(()=>{"use strict";var e={};function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.p="";var n=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=t.titleCard,this._link=t.linkCard,this._selector=n,this.rendererPopupImage=r}var n,r;return n=e,(r=[{key:"generateElement",value:function(){return this._element=this._getElement(),this._setEventListener(),this._cardImage.src=this._link,this._cardImage.alt=this._name,this._element.querySelector(".element__title").textContent=this._name,this._element}},{key:"_getElement",value:function(){var e=document.querySelector(this._selector).content.querySelector(".element").cloneNode(!0);return this._cardImage=e.querySelector(".element__image"),this._element=e,this._element}},{key:"_setEventListener",value:function(){var e=this;this._button=this._element.querySelector(".element__button"),this._trashButton=this._element.querySelector(".element__trash-icon"),this._button.addEventListener("click",(function(){e._handleLikeActive()})),this._trashButton.addEventListener("click",(function(){e._removeCardElement()})),this._cardImage.addEventListener("click",this.rendererPopupImage)}},{key:"_handleLikeActive",value:function(){this._button.classList.toggle("element__button_active")}},{key:"_removeCardElement",value:function(){this._element.remove()}}])&&t(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),e}();function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._formElement=t,this._formSelector=n.formSelector,this._inputSelector=n.inputSelector,this._submitButtonSelector=n.submitButtonSelector,this._inactiveButtonClass=n.inactiveButtonClass,this._inputErrorClass=n.inputErrorClass,this._errorClass=n.errorClass}var t,n;return t=e,(n=[{key:"enableValidation",value:function(){this._formElement.addEventListener("submit",(function(e){e.preventDefault()})),this._setEventListener()}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput()?(this._buttonElement.classList.add(this._inactiveButtonClass),this._buttonElement.disabled=!0):(this._buttonElement.classList.remove(this._inactiveButtonClass),this._buttonElement.disabled=!1)}},{key:"_setEventListener",value:function(){var e=this;this._inputList=Array.from(this._formElement.querySelectorAll(this._inputSelector)),this._buttonElement=this._formElement.querySelector(this._submitButtonSelector),this._toggleButtonState(),this._inputList.forEach((function(t){t.addEventListener("input",(function(){e._handleInputElement=t,e._toggleButtonState(),e._isValid()}))}))}},{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(e){return!e.validity.valid}))}},{key:"_isValid",value:function(){this._handleInputElement.validity.valid?this._hideInputError():this._showInputError()}},{key:"_showInputError",value:function(){this._errorElement=this._formElement.querySelector(".".concat(this._handleInputElement.id,"-error")),this._handleInputElement.classList.add(this._inputErrorClass),this._errorElement.textContent=this._handleInputElement.validationMessage,this._errorElement.classList.add(this._errorClass)}},{key:"_hideInputError",value:function(){this._errorElement=this._formElement.querySelector(".".concat(this._handleInputElement.id,"-error")),this._handleInputElement.classList.remove(this._inputErrorClass),this._errorElement.classList.remove(this._errorClass),this._errorElement.textContent=""}},{key:"resetValidation",value:function(){var e=this;this._toggleButtonState(),this._inputList.forEach((function(t){e._handleInputElement=t,e._hideInputError()}))}}])&&r(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._selector=t,this._popup=document.querySelector(this._selector),this._handleEscClose=this._handleEscClose.bind(this)}var t,n;return t=e,(n=[{key:"open",value:function(){document.addEventListener("keydown",this._handleEscClose),this._popup.classList.add("popup_active")}},{key:"close",value:function(){document.removeEventListener("keydown",this._handleEscClose),this._popup.classList.remove("popup_active")}},{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"setEventListener",value:function(){var e=this;this._popup.addEventListener("mousedown",(function(t){t.target.classList.contains("popup_active")&&e.close(),t.target.classList.contains("single__cross")&&e.close()}))}}])&&i(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(){return l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=s(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},l.apply(this,arguments)}function s(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=h(e)););return e}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}function p(e,t){if(t&&("object"===u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=h(r);if(o){var n=h(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return p(this,e)});function a(e){var t,n=e.selectorPopup,r=e.callbackSubmitForm;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,n)).callbackSubmitForm=r,t._form=t._popup.querySelector(".form"),t._inputList=t._popup.querySelectorAll(".form__input"),t}return t=a,(n=[{key:"_getInputValues",value:function(){var e=this;return this._formValues={},this._inputList.forEach((function(t){return e._formValues[t.name]=t.value})),this._formValues}},{key:"setEventListener",value:function(){var e=this;l(h(a.prototype),"setEventListener",this).call(this),this._form.addEventListener("submit",(function(){e.callbackSubmitForm(e._getInputValues()),e.close()}))}},{key:"close",value:function(){l(h(a.prototype),"close",this).call(this),this._form.reset()}}])&&c(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(a);function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(){return d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=b(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},d.apply(this,arguments)}function b(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=g(e)););return e}function v(e,t){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},v(e,t)}function E(e,t){if(t&&("object"===m(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=g(r);if(o){var n=g(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return E(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).elementPopupPicture=t._popup.querySelector(".popup__picture"),t.elementPopupSignature=t._popup.querySelector(".popup__signature"),t}return t=a,(n=[{key:"open",value:function(e){this.elementPopupPicture.src=e.linkCard,this.elementPopupSignature.alt=e.nameCard,this.elementPopupSignature.textContent=e.nameCard,d(g(a.prototype),"open",this).call(this)}}])&&y(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(a);function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var k=function(){function e(t,n){var r=t.data,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderedItems=r,this._renderer=o,this._containerHtml=document.querySelector(n)}var t,n;return t=e,(n=[{key:"renderItems",value:function(){var e=this;this._renderedItems.forEach((function(t){return e._renderer(t)}))}},{key:"addItem",value:function(e){this._containerHtml.prepend(e)}}])&&C(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var O=function(){function e(t){var n=t.selectorName,r=t.selectorCareer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.userName=document.querySelector(n),this.userCareer=document.querySelector(r)}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return this.arrayNewCardData={name:this.userName.textContent,career:this.userCareer.textContent},this.arrayNewCardData}},{key:"setUserInfo",value:function(e){this.userName.textContent=e.firstname,this.userCareer.textContent=e.career}}])&&S(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var P=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.headersRequest={authorization:"b34abb99-bb9c-49f0-b4ee-93cb66614104","Content-Type":"application/json"}}var t,n;return t=e,(n=[{key:"getInfromationUser",value:function(e){return this.link=e,fetch(this.link,{method:"GET",headers:this.headersRequest}).then((function(e){return e.ok?e.json():Promise.reject("Возникла ошибка при отправке запроса на сервер: ".concat(e.status))}))}}])&&j(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();const L=e.p+"61fe550b091b2f81b9f6.jpg",I=e.p+"987b369b837a2b168bb9.jpg",q=e.p+"527e3c215d7410a0b4cb.jpg",R=e.p+"70390f8f3b4baa0fe1a2.jpg",B=e.p+"9092011621ccd09d4ccb.jpg",x=e.p+"18da9e3a9416f644b0ff.jpg";var T,V=document.querySelector(".profile__edit-button"),A=document.querySelector(".profile__add-button"),N=document.querySelector(".form__input_type_name"),D=document.querySelector(".form__input_type_career"),U=document.querySelector(".profile__name"),F=document.querySelector(".profile__career"),H=document.querySelector(".profile__avatar"),z=[{titleCard:"Дагестан",linkCard:L},{titleCard:"Сочи",linkCard:I},{titleCard:"Успенский монастырь",linkCard:q},{titleCard:"Москва",linkCard:R},{titleCard:"Самара",linkCard:B},{titleCard:"Карачаево-Черкесия",linkCard:x}],G={};T={formSelector:".form",inputSelector:".form__input",submitButtonSelector:".form__submit",inactiveButtonClass:"form__submit_inactive",inputErrorClass:"form__input_type_error",errorClass:"form__input-error_active"},Array.from(document.querySelectorAll(T.formSelector)).forEach((function(e){var t=new o(e,T),n=e.getAttribute("name");G[n]=t,t.enableValidation()}));var M=new k({data:z,renderer:function(e){M.addItem(K(e))}},".elements"),J=new w(".popup_type_image");function K(e){return new n(e,".template__six-boxes",(function(){J.open(e)})).generateElement()}J.setEventListener(),M.renderItems();var Q=new _({selectorPopup:".popup_type_new-card",callbackSubmitForm:function(e){M.addItem(K(e))}});Q.setEventListener();var W=new O({selectorName:".profile__name",selectorCareer:".profile__career"});A.addEventListener("click",(function(){G["profile-card"].resetValidation(),Q.open()}));var X=new _({selectorPopup:".popup_type_edit",callbackSubmitForm:function(e){W.setUserInfo(e)}});X.setEventListener(),V.addEventListener("click",(function(){G["profile-edit"].resetValidation();var e=W.getUserInfo();N.value=e.name,D.value=e.career,X.open()})),(new P).getInfromationUser("https://mesto.nomoreparties.co/v1/cohort-43/users/me").then((function(e){console.log(e),U.textContent=e.name,F.textContent=e.about,H.src=e.avatar})).catch((function(e){console.log(e)}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVVYTixFQUFVTyxjQUVWLElBQU1DLEVBQWMsSUFBSXpFLEVBQWMsQ0FDcENULGNBQWUsdUJBQ2ZVLG1CQUFvQixTQUFDeUUsR0FDbkJULEVBQVVDLFFBQVFDLEVBQVdPLE9BSWpDRCxFQUFZRixtQkFFWixJQUFNSSxFQUFnQixJQUFJckQsRUFBUyxDQUNqQ0MsYUFBYyxpQkFDZEMsZUFBZ0IscUJBR2xCdUIsRUFBaUJ0RyxpQkFBaUIsU0FBUyxXQUN6Q21ILEVBQWUsZ0JBQWdCZ0Isa0JBQy9CSCxFQUFZSixVQUdkLElBQU1RLEVBQWtCLElBQUk3RSxFQUFjLENBQ3hDVCxjQUFlLG1CQUNmVSxtQkFBb0IsU0FBQ1csR0FDbkIrRCxFQUFjRyxZQUFZbEUsTUFJOUJpRSxFQUFnQk4sbUJBRWhCekIsRUFBa0JyRyxpQkFBaUIsU0FBUyxXQUMxQ21ILEVBQWUsZ0JBQWdCZ0Isa0JBQy9CLElBQU1HLEVBQThCSixFQUFjSyxjQUNsRGhDLEVBQWMxQyxNQUFReUUsRUFBNEIxRSxLQUNsRDRDLEVBQWdCM0MsTUFBUXlFLEVBQTRCbkQsT0FDcERpRCxFQUFnQlIsV0FHTixJQUFJdEMsR0FFWmtELG1CQUFtQix3REFDcEIxQyxNQUFLLFNBQUMyQyxHQUNMQyxRQUFRQyxJQUFJRixHQUNaaEMsRUFBWWhILFlBQWNnSixFQUFPN0UsS0FDakM4QyxFQUFjakgsWUFBY2dKLEVBQU9HLE1BQ25DakMsRUFBY3JILElBQU1tSixFQUFPSSxVQUU1QkMsT0FBTSxTQUFDQyxHQUNOTCxRQUFRQyxJQUFJSSxPIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8veWFuZGV4X3ByYWt0aWt1bS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly95YW5kZXhfcHJha3Rpa3VtL3dlYnBhY2svcnVudGltZS9wdWJsaWNQYXRoIiwid2VicGFjazovL3lhbmRleF9wcmFrdGlrdW0vLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL3lhbmRleF9wcmFrdGlrdW0vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3lhbmRleF9wcmFrdGlrdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly95YW5kZXhfcHJha3Rpa3VtLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly95YW5kZXhfcHJha3Rpa3VtLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8veWFuZGV4X3ByYWt0aWt1bS8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8veWFuZGV4X3ByYWt0aWt1bS8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL3lhbmRleF9wcmFrdGlrdW0vLi9zcmMvcGFnZS9BcGkuanMiLCJ3ZWJwYWNrOi8veWFuZGV4X3ByYWt0aWt1bS8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8veWFuZGV4X3ByYWt0aWt1bS8uL3NyYy9wYWdlL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSByZXF1aXJlIHNjb3BlXG52YXIgX193ZWJwYWNrX3JlcXVpcmVfXyA9IHt9O1xuXG4iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiOyIsImV4cG9ydCBjbGFzcyBDYXJkIHtcbiAgY29uc3RydWN0b3IoZGF0YSwgc2VsZWN0b3IsIHJlbmRlcmVyUG9wdXBJbWFnZSkge1xuICAgIHRoaXMuX25hbWUgPSBkYXRhLnRpdGxlQ2FyZDtcbiAgICB0aGlzLl9saW5rID0gZGF0YS5saW5rQ2FyZDtcbiAgICB0aGlzLl9zZWxlY3RvciA9IHNlbGVjdG9yO1xuICAgIHRoaXMucmVuZGVyZXJQb3B1cEltYWdlID0gcmVuZGVyZXJQb3B1cEltYWdlO1xuICB9XG5cbiAgZ2VuZXJhdGVFbGVtZW50KCkge1xuICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9nZXRFbGVtZW50KCk7XG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcigpO1xuXG4gICAgdGhpcy5fY2FyZEltYWdlLnNyYyA9IHRoaXMuX2xpbms7XG4gICAgdGhpcy5fY2FyZEltYWdlLmFsdCA9IHRoaXMuX25hbWU7XG4gICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fdGl0bGUnKS50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XG5cbiAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcbiAgfVxuXG4gIF9nZXRFbGVtZW50KCkge1xuICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gZG9jdW1lbnRcbiAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl9zZWxlY3RvcilcbiAgICAuY29udGVudFxuICAgIC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudCcpXG4gICAgLmNsb25lTm9kZSh0cnVlKTtcblxuICAgIHRoaXMuX2NhcmRJbWFnZSA9IGNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19pbWFnZScpO1xuICAgIHRoaXMuX2VsZW1lbnQgPSBjYXJkRWxlbWVudDtcbiAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcbiAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVyKCkge1xuICAgIHRoaXMuX2J1dHRvbiA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2J1dHRvbicpO1xuICAgIHRoaXMuX3RyYXNoQnV0dG9uID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fdHJhc2gtaWNvbicpO1xuXG4gICAgdGhpcy5fYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT57XG4gICAgICB0aGlzLl9oYW5kbGVMaWtlQWN0aXZlKCk7XG4gICAgfSlcbiAgICB0aGlzLl90cmFzaEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+e1xuICAgICAgdGhpcy5fcmVtb3ZlQ2FyZEVsZW1lbnQoKTtcbiAgICB9KVxuXG4gICAgdGhpcy5fY2FyZEltYWdlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5yZW5kZXJlclBvcHVwSW1hZ2UpO1xuICB9XG5cbiAgX2hhbmRsZUxpa2VBY3RpdmUoKSB7XG4gICAgdGhpcy5fYnV0dG9uLmNsYXNzTGlzdC50b2dnbGUoJ2VsZW1lbnRfX2J1dHRvbl9hY3RpdmUnKTtcbiAgfVxuXG4gIF9yZW1vdmVDYXJkRWxlbWVudCgpIHtcbiAgICB0aGlzLl9lbGVtZW50LnJlbW92ZSgpO1xuICB9XG5cbn1cbiIsImV4cG9ydCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcbiAgY29uc3RydWN0b3IoZm9ybUVsZW1lbnQsIGNvbmZpZykge1xuICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gZm9ybUVsZW1lbnQ7XG4gICAgdGhpcy5fZm9ybVNlbGVjdG9yID0gY29uZmlnLmZvcm1TZWxlY3RvcjtcbiAgICB0aGlzLl9pbnB1dFNlbGVjdG9yID0gY29uZmlnLmlucHV0U2VsZWN0b3I7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IgPSBjb25maWcuc3VibWl0QnV0dG9uU2VsZWN0b3I7XG4gICAgdGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyA9IGNvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzO1xuICAgIHRoaXMuX2lucHV0RXJyb3JDbGFzcyA9IGNvbmZpZy5pbnB1dEVycm9yQ2xhc3M7XG4gICAgdGhpcy5fZXJyb3JDbGFzcyA9IGNvbmZpZy5lcnJvckNsYXNzO1xuICB9XG5cblxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xuICAgIHRoaXMuX2Zvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChldnQpID0+IHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXIoKTtcbiAgfTtcblxuICBfdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XG4gICAgaWYodGhpcy5faGFzSW52YWxpZElucHV0KCkpIHtcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LmRpc2FibGVkID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgX3NldEV2ZW50TGlzdGVuZXIoKSB7XG4gICAgdGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbSh0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2lucHV0U2VsZWN0b3IpKTtcbiAgICB0aGlzLl9idXR0b25FbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3Rvcik7XG5cbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xuXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgICAgICB0aGlzLl9oYW5kbGVJbnB1dEVsZW1lbnQgPSBpbnB1dEVsZW1lbnQ7XG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgICAgIHRoaXMuX2lzVmFsaWQoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgX2hhc0ludmFsaWRJbnB1dCgpIHtcbiAgICByZXR1cm4gdGhpcy5faW5wdXRMaXN0LnNvbWUoKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgcmV0dXJuICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQ7XG4gICAgfSk7XG4gIH1cblxuICBfaXNWYWxpZCgpIHtcbiAgICBpZighdGhpcy5faGFuZGxlSW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XG4gICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcigpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcigpO1xuICAgIH1cbiAgfVxuXG4gIF9zaG93SW5wdXRFcnJvcigpIHtcbiAgICB0aGlzLl9lcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAuJHt0aGlzLl9oYW5kbGVJbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XG4gICAgdGhpcy5faGFuZGxlSW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcbiAgICB0aGlzLl9lcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSB0aGlzLl9oYW5kbGVJbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2U7XG4gICAgdGhpcy5fZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fZXJyb3JDbGFzcyk7XG4gIH1cblxuICBfaGlkZUlucHV0RXJyb3IoKSB7XG4gICAgdGhpcy5fZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgLiR7dGhpcy5faGFuZGxlSW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xuICAgIHRoaXMuX2hhbmRsZUlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XG4gICAgdGhpcy5fZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZXJyb3JDbGFzcyk7XG4gICAgdGhpcy5fZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gJyc7XG4gIH1cblxuICByZXNldFZhbGlkYXRpb24oKSB7XG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcblxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZUlucHV0RWxlbWVudCA9IGlucHV0RWxlbWVudDtcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKCk7XG4gICAgfSlcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXAge1xuICBjb25zdHJ1Y3RvcihzZWxlY3RvclBvcHVwKSB7XG4gICAgdGhpcy5fc2VsZWN0b3IgPSBzZWxlY3RvclBvcHVwO1xuICAgIHRoaXMuX3BvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9zZWxlY3Rvcik7XG4gICAgdGhpcy5faGFuZGxlRXNjQ2xvc2UgPSB0aGlzLl9oYW5kbGVFc2NDbG9zZS5iaW5kKHRoaXMpO1xuICB9XG5cbiAgb3BlbigpIHtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5hZGQoJ3BvcHVwX2FjdGl2ZScpO1xuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QucmVtb3ZlKCdwb3B1cF9hY3RpdmUnKTtcbiAgfVxuXG4gIF9oYW5kbGVFc2NDbG9zZShldnQpIHtcbiAgICBpZihldnQua2V5ID09PSAnRXNjYXBlJyl7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcigpIHtcbiAgICB0aGlzLl9wb3B1cC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCAoZXZ0KSA9PiB7XG5cbiAgICAgIGlmIChldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygncG9wdXBfYWN0aXZlJykpIHtcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgfVxuXG4gICAgICBpZiAoZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3NpbmdsZV9fY3Jvc3MnKSkge1xuICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgfVxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHtzZWxlY3RvclBvcHVwLCBjYWxsYmFja1N1Ym1pdEZvcm19KSB7XG4gICAgc3VwZXIoc2VsZWN0b3JQb3B1cCk7XG4gICAgdGhpcy5jYWxsYmFja1N1Ym1pdEZvcm0gPSBjYWxsYmFja1N1Ym1pdEZvcm07XG4gICAgdGhpcy5fZm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtJyk7XG4gICAgdGhpcy5faW5wdXRMaXN0ID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvckFsbCgnLmZvcm1fX2lucHV0Jyk7XG5cdH1cblxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XG4gICAgdGhpcy5fZm9ybVZhbHVlcyA9IHt9O1xuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKGlucHV0ID0+IHRoaXMuX2Zvcm1WYWx1ZXNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZSk7XG5cbiAgICByZXR1cm4gdGhpcy5fZm9ybVZhbHVlcztcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXIoKSB7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcigpO1xuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKCkgPT4ge1xuICAgICAgdGhpcy5jYWxsYmFja1N1Ym1pdEZvcm0odGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfSk7XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICBzdXBlci5jbG9zZSgpO1xuICAgIHRoaXMuX2Zvcm0ucmVzZXQoKTtcbiAgfVxufVxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3RvcihzZWxlY3RvclBvcHVwKSB7XG4gICAgc3VwZXIoc2VsZWN0b3JQb3B1cCk7XG4gICAgdGhpcy5lbGVtZW50UG9wdXBQaWN0dXJlID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19waWN0dXJlJyk7XG4gICAgdGhpcy5lbGVtZW50UG9wdXBTaWduYXR1cmUgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX3NpZ25hdHVyZScpO1xuXHR9XG5cbiAgb3BlbihpdGVtKSB7XG4gICAgdGhpcy5lbGVtZW50UG9wdXBQaWN0dXJlLnNyYyA9IGl0ZW0ubGlua0NhcmQ7XG4gICAgdGhpcy5lbGVtZW50UG9wdXBTaWduYXR1cmUuYWx0ID0gaXRlbS5uYW1lQ2FyZDtcbiAgICB0aGlzLmVsZW1lbnRQb3B1cFNpZ25hdHVyZS50ZXh0Q29udGVudCA9IGl0ZW0ubmFtZUNhcmQ7XG4gICAgc3VwZXIub3BlbigpO1xuICB9XG4gIH1cbiIsImV4cG9ydCBjbGFzcyBTZWN0aW9uIHtcbiAgY29uc3RydWN0b3Ioe2RhdGEsIHJlbmRlcmVyfSwgY29udGFpbmVyU2VsZWN0b3IpIHtcbiAgICB0aGlzLl9yZW5kZXJlZEl0ZW1zID0gZGF0YTtcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xuXG4gICAgdGhpcy5fY29udGFpbmVySHRtbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xuICB9XG5cbiAgcmVuZGVySXRlbXMoKSB7XG4gICAgdGhpcy5fcmVuZGVyZWRJdGVtcy5mb3JFYWNoKGl0ZW0gPT4gdGhpcy5fcmVuZGVyZXIoaXRlbSkpXG4gIH1cblxuICBhZGRJdGVtKGVsZW1lbnQpIHtcbiAgICB0aGlzLl9jb250YWluZXJIdG1sLnByZXBlbmQoZWxlbWVudCk7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcbiAgY29uc3RydWN0b3Ioe3NlbGVjdG9yTmFtZSwgc2VsZWN0b3JDYXJlZXJ9KSB7XG4gICAgdGhpcy51c2VyTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3JOYW1lKTtcbiAgICB0aGlzLnVzZXJDYXJlZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yQ2FyZWVyKTtcbiAgfVxuXG4gIGdldFVzZXJJbmZvKCkge1xuICAgIHRoaXMuYXJyYXlOZXdDYXJkRGF0YSA9IHtuYW1lOiB0aGlzLnVzZXJOYW1lLnRleHRDb250ZW50LCBjYXJlZXI6IHRoaXMudXNlckNhcmVlci50ZXh0Q29udGVudH07XG4gICAgcmV0dXJuIHRoaXMuYXJyYXlOZXdDYXJkRGF0YTtcbiAgfVxuXG4gIHNldFVzZXJJbmZvKHVzZXJJbmZvKSB7XG4gICAgdGhpcy51c2VyTmFtZS50ZXh0Q29udGVudCA9IHVzZXJJbmZvLmZpcnN0bmFtZTtcbiAgICB0aGlzLnVzZXJDYXJlZXIudGV4dENvbnRlbnQgPSB1c2VySW5mby5jYXJlZXI7XG4gIH1cbn1cbiIsImV4cG9ydCBjbGFzcyBBcGkge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmhlYWRlcnNSZXF1ZXN0ID0ge1xuICAgICAgYXV0aG9yaXphdGlvbjogJ2IzNGFiYjk5LWJiOWMtNDlmMC1iNGVlLTkzY2I2NjYxNDEwNCcsXG4gICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgfTtcbiAgICB9XG5cbiAgICBnZXRJbmZyb21hdGlvblVzZXIoc2VydmVybGluaykge1xuICAgICAgdGhpcy5saW5rID0gc2VydmVybGluaztcbiAgICAgIHJldHVybiBmZXRjaCh0aGlzLmxpbmssIHtcbiAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzUmVxdWVzdFxuICAgICAgfSkudGhlbigocmVzKSA9PiB7XG4gICAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChg0JLQvtC30L3QuNC60LvQsCDQvtGI0LjQsdC60LAg0L/RgNC4INC+0YLQv9GA0LDQstC60LUg0LfQsNC/0YDQvtGB0LAg0L3QsCDRgdC10YDQstC10YA6ICR7cmVzLnN0YXR1c31gKTtcbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiIsImNvbnN0IGRvbUNhcmRDb250YWluZXIgPSAnLmVsZW1lbnRzJztcbmNvbnN0IGNoYW5nZVByb2ZpbGVJY29uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciAoJy5wcm9maWxlX19lZGl0LWJ1dHRvbicpO1xuY29uc3QgYWRkTmV3Q2FyZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IgKCcucHJvZmlsZV9fYWRkLWJ1dHRvbicpO1xuXG5jb25zdCBpbnB1dE5hbWVGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZvcm1fX2lucHV0X3R5cGVfbmFtZScpO1xuY29uc3QgaW5wdXRDYXJlZXJGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZvcm1fX2lucHV0X3R5cGVfY2FyZWVyJyk7XG5cbmNvbnN0IG5hbWVVc2VyRG9tID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX25hbWUnKTtcbmNvbnN0IGNhcmVlclVzZXJEb20gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fY2FyZWVyJyk7XG5jb25zdCBhdmF0YXJVc2VyRG9tID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2F2YXRhcicpO1xuXG5leHBvcnQge2RvbUNhcmRDb250YWluZXIsIGNoYW5nZVByb2ZpbGVJY29uLCBhZGROZXdDYXJkQnV0dG9uLCBpbnB1dE5hbWVGb3JtLCBpbnB1dENhcmVlckZvcm0sIG5hbWVVc2VyRG9tLCBjYXJlZXJVc2VyRG9tLCBhdmF0YXJVc2VyRG9tfTtcbiIsImltcG9ydCB7Q2FyZH0gZnJvbSAnLi4vY29tcG9uZW50cy9DYXJkLmpzJztcbmltcG9ydCB7Rm9ybVZhbGlkYXRvcn0gZnJvbSAnLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzJztcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyc7XG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyc7XG5pbXBvcnQgeyBTZWN0aW9uIH0gZnJvbSAnLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzJztcbmltcG9ydCBVc2VySW5mbyBmcm9tICcuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzJztcbmltcG9ydCB7IEFwaSB9IGZyb20gJy4vQXBpLmpzJztcblxuaW1wb3J0IGRhZ2VzdGFuIGZyb20gJy4uLy4uL2ltYWdlcy9lbGVtZW50c19faW1hZ2VfZGFnZXN0YW4uanBnJztcbmltcG9ydCBzb2NoaSBmcm9tICcuLi8uLi9pbWFnZXMvZWxlbWVudHNfX2ltYWdlX3NvY2hpLmpwZyc7XG5pbXBvcnQgdXNwZW5Nb25hc3RpciBmcm9tICcuLi8uLi9pbWFnZXMvZWxlbWVudHNfX2ltYWdlX3VzcGVuc2tpaS1tb25hc3Rpci5qcGcnO1xuaW1wb3J0IG1vc2NvdyBmcm9tICcuLi8uLi9pbWFnZXMvZWxlbWVudHNfX2ltYWdlX21vc2Nvdy5qcGcnO1xuaW1wb3J0IHNoaXJ5YWV2byBmcm9tICcuLi8uLi9pbWFnZXMvZWxlbWVudHNfX2ltYWdlX3NoaXJ5YWV2by5qcGcnO1xuaW1wb3J0IGNoZXJrZXNpeWEgZnJvbSAnLi4vLi4vaW1hZ2VzL2VsZW1lbnRzX19pbWFnZV9rYXJhY2hhZXZhLWNoZXJrZXNpeWEuanBnJztcblxuaW1wb3J0IHtcbiAgZG9tQ2FyZENvbnRhaW5lcixcbiAgY2hhbmdlUHJvZmlsZUljb24sXG4gIGFkZE5ld0NhcmRCdXR0b24sXG4gIGlucHV0TmFtZUZvcm0sXG4gIGlucHV0Q2FyZWVyRm9ybSxcbiAgbmFtZVVzZXJEb20sXG4gIGNhcmVlclVzZXJEb20sXG4gIGF2YXRhclVzZXJEb21cbn0gZnJvbSAnLi4vdXRpbHMvY29uc3RhbnRzLmpzJztcblxuaW1wb3J0ICcuL2luZGV4LmNzcyc7XG5cbmNvbnN0IGluaXRpYWxDYXJkcyA9IFtcbiAge1xuICAgIHRpdGxlQ2FyZDogJ9CU0LDQs9C10YHRgtCw0L0nLFxuICAgIGxpbmtDYXJkOiBkYWdlc3RhblxuICB9LFxuICB7XG4gICAgdGl0bGVDYXJkOiAn0KHQvtGH0LgnLFxuICAgIGxpbmtDYXJkOiBzb2NoaVxuICB9LFxuICB7XG4gICAgdGl0bGVDYXJkOiAn0KPRgdC/0LXQvdGB0LrQuNC5INC80L7QvdCw0YHRgtGL0YDRjCcsXG4gICAgbGlua0NhcmQ6IHVzcGVuTW9uYXN0aXJcbiAgfSxcbiAge1xuICAgIHRpdGxlQ2FyZDogJ9Cc0L7RgdC60LLQsCcsXG4gICAgbGlua0NhcmQ6IG1vc2Nvd1xuICB9LFxuICB7XG4gICAgdGl0bGVDYXJkOiAn0KHQsNC80LDRgNCwJyxcbiAgICBsaW5rQ2FyZDogc2hpcnlhZXZvXG4gIH0sXG4gIHtcbiAgICB0aXRsZUNhcmQ6ICfQmtCw0YDQsNGH0LDQtdCy0L4t0KfQtdGA0LrQtdGB0LjRjycsXG4gICAgbGlua0NhcmQ6IGNoZXJrZXNpeWFcbiAgfSxcbl07XG5cbmNvbnN0IGNvbmZpZyA9IHtcbiAgZm9ybVNlbGVjdG9yOiAnLmZvcm0nLFxuICBpbnB1dFNlbGVjdG9yOiAnLmZvcm1fX2lucHV0JyxcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6ICcuZm9ybV9fc3VibWl0JyxcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogJ2Zvcm1fX3N1Ym1pdF9pbmFjdGl2ZScsXG4gIGlucHV0RXJyb3JDbGFzczogJ2Zvcm1fX2lucHV0X3R5cGVfZXJyb3InLFxuICBlcnJvckNsYXNzOiAnZm9ybV9faW5wdXQtZXJyb3JfYWN0aXZlJ1xufTtcblxuY29uc3QgZm9ybVZhbGlkYXRvcnMgPSB7fTtcblxuY29uc3QgZW5hYmxlVmFsaWRhdGlvbiA9IChjb25maWcpID0+IHtcbiAgY29uc3QgZm9ybUxpc3QgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoY29uZmlnLmZvcm1TZWxlY3RvcikpO1xuICBmb3JtTGlzdC5mb3JFYWNoKChmb3JtRWxlbWVudCkgPT4ge1xuICAgIGNvbnN0IHZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKGZvcm1FbGVtZW50LCBjb25maWcpO1xuICAgIGNvbnN0IGZvcm1OYW1lID0gZm9ybUVsZW1lbnQuZ2V0QXR0cmlidXRlKCduYW1lJyk7XG5cbiAgICBmb3JtVmFsaWRhdG9yc1tmb3JtTmFtZV0gPSB2YWxpZGF0b3I7XG4gICAgdmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcbiAgfSk7XG59O1xuXG5lbmFibGVWYWxpZGF0aW9uKGNvbmZpZyk7XG5cbmNvbnN0IGNhcmRzTGlzdCA9IG5ldyBTZWN0aW9uKHtcbiAgZGF0YTogaW5pdGlhbENhcmRzLFxuICByZW5kZXJlcjogKGl0ZW0pID0+IHtcbiAgICBjYXJkc0xpc3QuYWRkSXRlbShjcmVhdGVDYXJkKGl0ZW0pKTtcbiAgfVxufSxcbmRvbUNhcmRDb250YWluZXJcbik7XG5cbmNvbnN0IHBvcHVwSW1hZ2UgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoJy5wb3B1cF90eXBlX2ltYWdlJyk7XG5wb3B1cEltYWdlLnNldEV2ZW50TGlzdGVuZXIoKTtcblxuZnVuY3Rpb24gY3JlYXRlQ2FyZChpdGVtKSB7XG4gIGNvbnN0IG5ld0NhcmRDb250YWluZXIgPSBuZXcgQ2FyZChpdGVtLCAnLnRlbXBsYXRlX19zaXgtYm94ZXMnLCAoKSA9PiB7XG4gICAgcG9wdXBJbWFnZS5vcGVuKGl0ZW0pO1xuICB9KTtcbiAgY29uc3QgbmV3Q2FyZEVsZW1lbnQgPSBuZXdDYXJkQ29udGFpbmVyLmdlbmVyYXRlRWxlbWVudCgpO1xuICByZXR1cm4gbmV3Q2FyZEVsZW1lbnQ7XG59XG5cbmNhcmRzTGlzdC5yZW5kZXJJdGVtcygpO1xuXG5jb25zdCBmb3JtTmV3Q2FyZCA9IG5ldyBQb3B1cFdpdGhGb3JtKHtcbiAgc2VsZWN0b3JQb3B1cDogJy5wb3B1cF90eXBlX25ldy1jYXJkJyxcbiAgY2FsbGJhY2tTdWJtaXRGb3JtOiAoZm9ybURhdGEpID0+IHtcbiAgICBjYXJkc0xpc3QuYWRkSXRlbShjcmVhdGVDYXJkKGZvcm1EYXRhKSk7XG4gIH1cbn0pO1xuXG5mb3JtTmV3Q2FyZC5zZXRFdmVudExpc3RlbmVyKCk7XG5cbmNvbnN0IGNsYXNzVXNlckluZm8gPSBuZXcgVXNlckluZm8oe1xuICBzZWxlY3Rvck5hbWU6ICcucHJvZmlsZV9fbmFtZScsXG4gIHNlbGVjdG9yQ2FyZWVyOiAnLnByb2ZpbGVfX2NhcmVlcicsXG59KVxuXG5hZGROZXdDYXJkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBmb3JtVmFsaWRhdG9yc1sncHJvZmlsZS1jYXJkJ10ucmVzZXRWYWxpZGF0aW9uKCk7XG4gIGZvcm1OZXdDYXJkLm9wZW4oKTtcbn0pXG5cbmNvbnN0IGZvcm1Qcm9maWxlVXNlciA9IG5ldyBQb3B1cFdpdGhGb3JtKHtcbiAgc2VsZWN0b3JQb3B1cDogJy5wb3B1cF90eXBlX2VkaXQnLFxuICBjYWxsYmFja1N1Ym1pdEZvcm06IChpdGVtKSA9PiB7XG4gICAgY2xhc3NVc2VySW5mby5zZXRVc2VySW5mbyhpdGVtKTtcbiAgfVxufSk7XG5cbmZvcm1Qcm9maWxlVXNlci5zZXRFdmVudExpc3RlbmVyKCk7XG5cbmNoYW5nZVByb2ZpbGVJY29uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBmb3JtVmFsaWRhdG9yc1sncHJvZmlsZS1lZGl0J10ucmVzZXRWYWxpZGF0aW9uKCk7XG4gIGNvbnN0IGRvbVVzZXJJbmZvcm1hdGlvbkNvbnRhaW5lciA9IGNsYXNzVXNlckluZm8uZ2V0VXNlckluZm8oKTtcbiAgaW5wdXROYW1lRm9ybS52YWx1ZSA9IGRvbVVzZXJJbmZvcm1hdGlvbkNvbnRhaW5lci5uYW1lO1xuICBpbnB1dENhcmVlckZvcm0udmFsdWUgPSBkb21Vc2VySW5mb3JtYXRpb25Db250YWluZXIuY2FyZWVyO1xuICBmb3JtUHJvZmlsZVVzZXIub3BlbigpO1xufSlcblxuY29uc3QgYXBpID0gbmV3IEFwaSgpO1xuXG5hcGkuZ2V0SW5mcm9tYXRpb25Vc2VyKCdodHRwczovL21lc3RvLm5vbW9yZXBhcnRpZXMuY28vdjEvY29ob3J0LTQzL3VzZXJzL21lJylcbiAgLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7XG4gICAgbmFtZVVzZXJEb20udGV4dENvbnRlbnQgPSByZXN1bHQubmFtZTtcbiAgICBjYXJlZXJVc2VyRG9tLnRleHRDb250ZW50ID0gcmVzdWx0LmFib3V0O1xuICAgIGF2YXRhclVzZXJEb20uc3JjID0gcmVzdWx0LmF2YXRhcjtcbiAgfSlcbiAgLmNhdGNoKChlcnIpID0+IHtcbiAgICBjb25zb2xlLmxvZyhlcnIpO1xuICB9KVxuIl0sIm5hbWVzIjpbIl9fd2VicGFja19yZXF1aXJlX18iLCJwIiwiQ2FyZCIsImRhdGEiLCJzZWxlY3RvciIsInJlbmRlcmVyUG9wdXBJbWFnZSIsInRoaXMiLCJfbmFtZSIsInRpdGxlQ2FyZCIsIl9saW5rIiwibGlua0NhcmQiLCJfc2VsZWN0b3IiLCJfZWxlbWVudCIsIl9nZXRFbGVtZW50IiwiX3NldEV2ZW50TGlzdGVuZXIiLCJfY2FyZEltYWdlIiwic3JjIiwiYWx0IiwicXVlcnlTZWxlY3RvciIsInRleHRDb250ZW50IiwiY2FyZEVsZW1lbnQiLCJkb2N1bWVudCIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJfYnV0dG9uIiwiX3RyYXNoQnV0dG9uIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9oYW5kbGVMaWtlQWN0aXZlIiwiX3JlbW92ZUNhcmRFbGVtZW50IiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwicmVtb3ZlIiwiRm9ybVZhbGlkYXRvciIsImZvcm1FbGVtZW50IiwiY29uZmlnIiwiX2Zvcm1FbGVtZW50IiwiX2Zvcm1TZWxlY3RvciIsImZvcm1TZWxlY3RvciIsIl9pbnB1dFNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsIl9zdWJtaXRCdXR0b25TZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX2luYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiX2lucHV0RXJyb3JDbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsIl9lcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsImV2dCIsInByZXZlbnREZWZhdWx0IiwiX2hhc0ludmFsaWRJbnB1dCIsIl9idXR0b25FbGVtZW50IiwiYWRkIiwiZGlzYWJsZWQiLCJfaW5wdXRMaXN0IiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsIl90b2dnbGVCdXR0b25TdGF0ZSIsImZvckVhY2giLCJpbnB1dEVsZW1lbnQiLCJfaGFuZGxlSW5wdXRFbGVtZW50IiwiX2lzVmFsaWQiLCJzb21lIiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oaWRlSW5wdXRFcnJvciIsIl9zaG93SW5wdXRFcnJvciIsIl9lcnJvckVsZW1lbnQiLCJpZCIsInZhbGlkYXRpb25NZXNzYWdlIiwiUG9wdXAiLCJzZWxlY3RvclBvcHVwIiwiX3BvcHVwIiwiX2hhbmRsZUVzY0Nsb3NlIiwiYmluZCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJrZXkiLCJjbG9zZSIsInRhcmdldCIsImNvbnRhaW5zIiwiUG9wdXBXaXRoRm9ybSIsImNhbGxiYWNrU3VibWl0Rm9ybSIsIl9mb3JtIiwiX2Zvcm1WYWx1ZXMiLCJpbnB1dCIsIm5hbWUiLCJ2YWx1ZSIsIl9nZXRJbnB1dFZhbHVlcyIsInJlc2V0IiwiUG9wdXBXaXRoSW1hZ2UiLCJlbGVtZW50UG9wdXBQaWN0dXJlIiwiZWxlbWVudFBvcHVwU2lnbmF0dXJlIiwiaXRlbSIsIm5hbWVDYXJkIiwiU2VjdGlvbiIsImNvbnRhaW5lclNlbGVjdG9yIiwicmVuZGVyZXIiLCJfcmVuZGVyZWRJdGVtcyIsIl9yZW5kZXJlciIsIl9jb250YWluZXJIdG1sIiwiZWxlbWVudCIsInByZXBlbmQiLCJVc2VySW5mbyIsInNlbGVjdG9yTmFtZSIsInNlbGVjdG9yQ2FyZWVyIiwidXNlck5hbWUiLCJ1c2VyQ2FyZWVyIiwiYXJyYXlOZXdDYXJkRGF0YSIsImNhcmVlciIsInVzZXJJbmZvIiwiZmlyc3RuYW1lIiwiQXBpIiwiaGVhZGVyc1JlcXVlc3QiLCJhdXRob3JpemF0aW9uIiwic2VydmVybGluayIsImxpbmsiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJ0aGVuIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsImNoYW5nZVByb2ZpbGVJY29uIiwiYWRkTmV3Q2FyZEJ1dHRvbiIsImlucHV0TmFtZUZvcm0iLCJpbnB1dENhcmVlckZvcm0iLCJuYW1lVXNlckRvbSIsImNhcmVlclVzZXJEb20iLCJhdmF0YXJVc2VyRG9tIiwiaW5pdGlhbENhcmRzIiwiZGFnZXN0YW4iLCJzb2NoaSIsInVzcGVuTW9uYXN0aXIiLCJtb3Njb3ciLCJzaGlyeWFldm8iLCJjaGVya2VzaXlhIiwiZm9ybVZhbGlkYXRvcnMiLCJ2YWxpZGF0b3IiLCJmb3JtTmFtZSIsImdldEF0dHJpYnV0ZSIsImVuYWJsZVZhbGlkYXRpb24iLCJjYXJkc0xpc3QiLCJhZGRJdGVtIiwiY3JlYXRlQ2FyZCIsInBvcHVwSW1hZ2UiLCJvcGVuIiwiZ2VuZXJhdGVFbGVtZW50Iiwic2V0RXZlbnRMaXN0ZW5lciIsInJlbmRlckl0ZW1zIiwiZm9ybU5ld0NhcmQiLCJmb3JtRGF0YSIsImNsYXNzVXNlckluZm8iLCJyZXNldFZhbGlkYXRpb24iLCJmb3JtUHJvZmlsZVVzZXIiLCJzZXRVc2VySW5mbyIsImRvbVVzZXJJbmZvcm1hdGlvbkNvbnRhaW5lciIsImdldFVzZXJJbmZvIiwiZ2V0SW5mcm9tYXRpb25Vc2VyIiwicmVzdWx0IiwiY29uc29sZSIsImxvZyIsImFib3V0IiwiYXZhdGFyIiwiY2F0Y2giLCJlcnIiXSwic291cmNlUm9vdCI6IiJ9