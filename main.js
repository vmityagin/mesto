(()=>{"use strict";function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var t=function(){function t(e,n,r,o,i,c){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.data=e,this._name=this.data.name,this._link=this.data.link,this._ownerId=this.data.owner._id,this._cardId=this.data._id,this._selector=n,this.rendererPopupImage=r,this.renderPopupConfirm=o,this.handlerLikeActive=i,this.handlerLikeNotActive=c}var n,r;return n=t,(r=[{key:"generateElement",value:function(){return this._element=this._getElement(),this._setEventListener(),this._cardImage.src=this._link,this._cardImage.alt=this._name,this._element.querySelector(".element__title").textContent=this._name,this.changeNumberLikes(this.data),this._element}},{key:"changeNumberLikes",value:function(e){this._element.querySelector(".element__count").textContent=e.likes.length}},{key:"_getElement",value:function(){var e=document.querySelector(this._selector).content.querySelector(".element").cloneNode(!0);return this._cardImage=e.querySelector(".element__image"),this._element=e,this._element}},{key:"_setEventListener",value:function(){var e=this;this._button=this._element.querySelector(".element__button"),this._trashButton=this._element.querySelector(".element__trash-icon"),"f9d4ba8aaa4282cc59097b10"===this._ownerId&&this._trashButton.classList.add("element__trash-icon_active"),this._button.addEventListener("click",(function(){e._handleLikeActive()})),this._trashButton.addEventListener("click",(function(){e.renderPopupConfirm(e._cardId)})),this._cardImage.addEventListener("click",this.rendererPopupImage)}},{key:"_handleLikeActive",value:function(){this._button.classList.toggle("element__button_active"),this._button.classList.contains("element__button_active")?this.handlerLikeActive(this.data):this.handlerLikeNotActive(this.data)}},{key:"_removeCardElement",value:function(){this._element.remove()}}])&&e(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}();function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var r=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._formElement=t,this._formSelector=n.formSelector,this._inputSelector=n.inputSelector,this._submitButtonSelector=n.submitButtonSelector,this._inactiveButtonClass=n.inactiveButtonClass,this._inputErrorClass=n.inputErrorClass,this._errorClass=n.errorClass}var t,r;return t=e,(r=[{key:"enableValidation",value:function(){this._formElement.addEventListener("submit",(function(e){e.preventDefault()})),this._setEventListener()}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput()?(this._buttonElement.classList.add(this._inactiveButtonClass),this._buttonElement.disabled=!0):(this._buttonElement.classList.remove(this._inactiveButtonClass),this._buttonElement.disabled=!1)}},{key:"_setEventListener",value:function(){var e=this;this._inputList=Array.from(this._formElement.querySelectorAll(this._inputSelector)),this._buttonElement=this._formElement.querySelector(this._submitButtonSelector),this._toggleButtonState(),this._inputList.forEach((function(t){t.addEventListener("input",(function(){e._handleInputElement=t,e._toggleButtonState(),e._isValid()}))}))}},{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(e){return!e.validity.valid}))}},{key:"_isValid",value:function(){this._handleInputElement.validity.valid?this._hideInputError():this._showInputError()}},{key:"_showInputError",value:function(){this._errorElement=this._formElement.querySelector(".".concat(this._handleInputElement.id,"-error")),this._handleInputElement.classList.add(this._inputErrorClass),this._errorElement.textContent=this._handleInputElement.validationMessage,this._errorElement.classList.add(this._errorClass)}},{key:"_hideInputError",value:function(){this._errorElement=this._formElement.querySelector(".".concat(this._handleInputElement.id,"-error")),this._handleInputElement.classList.remove(this._inputErrorClass),this._errorElement.classList.remove(this._errorClass),this._errorElement.textContent=""}},{key:"resetValidation",value:function(){var e=this;this._toggleButtonState(),this._inputList.forEach((function(t){e._handleInputElement=t,e._hideInputError()}))}}])&&n(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._selector=t,this._popup=document.querySelector(this._selector),this._handleEscClose=this._handleEscClose.bind(this)}var t,n;return t=e,(n=[{key:"open",value:function(){document.addEventListener("keydown",this._handleEscClose),this._popup.classList.add("popup_active")}},{key:"close",value:function(){document.removeEventListener("keydown",this._handleEscClose),this._popup.classList.remove("popup_active")}},{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"setEventListener",value:function(){var e=this;this._popup.addEventListener("mousedown",(function(t){t.target.classList.contains("popup_active")&&e.close(),t.target.classList.contains("single__cross")&&e.close()}))}}])&&o(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(){return u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=s(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},u.apply(this,arguments)}function s(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=p(e)););return e}function l(e,t){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},l(e,t)}function f(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}(c,e);var t,n,r,o,i=(r=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=p(r);if(o){var n=p(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return f(this,e)});function c(e){var t,n=e.selectorPopup,r=e.callbackSubmitForm;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=i.call(this,n)).callbackSubmitForm=r,t._form=t._popup.querySelector(".form"),t._inputList=t._popup.querySelectorAll(".form__input"),t}return t=c,(n=[{key:"_getInputValues",value:function(){var e=this;return this._formValues={},this._inputList.forEach((function(t){return e._formValues[t.name]=t.value})),this._formValues}},{key:"setEventListener",value:function(){var e=this;u(p(c.prototype),"setEventListener",this).call(this),this._form.addEventListener("submit",(function(){e.callbackSubmitForm(e._getInputValues()),e.close()}))}},{key:"close",value:function(){u(p(c.prototype),"close",this).call(this),this._form.reset()}}])&&a(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),c}(i);function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(){return y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=_(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},y.apply(this,arguments)}function _(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=k(e)););return e}function b(e,t){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},b(e,t)}function v(e,t){if(t&&("object"===m(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function k(e){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},k(e)}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(c,e);var t,n,r,o,i=(r=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=k(r);if(o){var n=k(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return v(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=i.call(this,e)).elementPopupPicture=t._popup.querySelector(".popup__picture"),t.elementPopupSignature=t._popup.querySelector(".popup__signature"),t}return t=c,(n=[{key:"open",value:function(e){this.elementPopupPicture.src=e.link,this.elementPopupSignature.alt=e.name,this.elementPopupSignature.textContent=e.name,y(k(c.prototype),"open",this).call(this)}}])&&d(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),c}(i);function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(){return S="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=P(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},S.apply(this,arguments)}function P(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=C(e)););return e}function O(e,t){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},O(e,t)}function j(e,t){if(t&&("object"===g(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function C(e){return C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},C(e)}var L=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O(e,t)}(c,e);var t,n,r,o,i=(r=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=C(r);if(o){var n=C(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return j(this,e)});function c(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(n=i.call(this,e)).callbackSubmitForm=t,n._form=n._popup.querySelector(".form"),n}return t=c,(n=[{key:"setEventListener",value:function(e){var t=this;S(C(c.prototype),"setEventListener",this).call(this),this._form.addEventListener("submit",(function(){t.callbackSubmitForm(e),t.close()}))}}])&&w(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),c}(i);function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var q=function(){function e(t,n){var r=t.data,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderedItems=r,this._renderer=o,this._containerHtml=document.querySelector(n)}var t,n;return t=e,(n=[{key:"renderItems",value:function(){var e=this;this._renderedItems.forEach((function(t){return e._renderer(t)}))}},{key:"addItem",value:function(e){this._containerHtml.prepend(e)}}])&&I(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var T=function(){function e(t){var n=t.selectorName,r=t.selectorCareer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.userName=document.querySelector(n),this.userCareer=document.querySelector(r)}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return this.arrayNewCardData={name:this.userName.textContent,career:this.userCareer.textContent},this.arrayNewCardData}},{key:"setUserInfo",value:function(e){this.userName.textContent=e.firstname,this.userCareer.textContent=e.career}}])&&R(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var x,N=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.headersRequest={authorization:"b34abb99-bb9c-49f0-b4ee-93cb66614104","Content-Type":"application/json"}}var t,n;return t=e,(n=[{key:"getInfromationUser",value:function(e){return this.link=e,fetch(this.link,{method:"GET",headers:this.headersRequest}).then((function(e){return e.ok?e.json():Promise.reject("Возникла ошибка при отправке запроса на сервер: ".concat(e.status))}))}},{key:"loadCardImages",value:function(e){return this.link=e,fetch(this.link,{method:"GET",headers:this.headersRequest}).then((function(e){return e.ok?e.json():Promise.reject("Возникла ошибка при отправке запроса на сервер: ".concat(e.status))}))}},{key:"changeProfile",value:function(e,t){return this.link=e,fetch(this.link,{method:"PATCH",headers:this.headersRequest,body:JSON.stringify({name:"".concat(t.firstname),about:"".concat(t.career)})}).then((function(e){return e.ok?e.json():Promise.reject("Возникла ошибка при отправке запроса на сервер: ".concat(e.status))}))}},{key:"addNewCard",value:function(e,t){return this.link=e,fetch(this.link,{method:"POST",headers:this.headersRequest,body:JSON.stringify({name:t.name,link:t.link})}).then((function(e){return e.ok?e.json():Promise.reject("Возникла ошибка при отправке запроса на сервер: ".concat(e.status))}))}},{key:"deleteCard",value:function(e,t){return this.link="".concat(e)+"".concat(t),fetch(this.link,{method:"DELETE",headers:this.headersRequest}).then((function(e){return e.ok?e.json():Promise.reject("Возникла ошибка при отправке запроса на сервер: ".concat(e.status))}))}},{key:"likePut",value:function(e,t){return this.link="".concat(e)+"".concat(t)+"/likes",fetch(this.link,{method:"PUT",headers:this.headersRequest}).then((function(e){return e.ok?e.json():Promise.reject("Возникла ошибка при отправке запроса на сервер: ".concat(e.status))}))}},{key:"likeDelete",value:function(e,t){return this.link="".concat(e)+"".concat(t)+"/likes",fetch(this.link,{method:"DELETE",headers:this.headersRequest}).then((function(e){return e.ok?e.json():Promise.reject("Возникла ошибка при отправке запроса на сервер: ".concat(e.status))}))}}])&&B(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),A=".elements",D=document.querySelector(".profile__edit-button"),V=document.querySelector(".profile__add-button"),F=document.querySelector(".form__input_type_name"),U=document.querySelector(".form__input_type_career"),H=document.querySelector(".profile__name"),G=document.querySelector(".profile__career"),J=document.querySelector(".profile__avatar"),z={};x={formSelector:".form",inputSelector:".form__input",submitButtonSelector:".form__submit",inactiveButtonClass:"form__submit_inactive",inputErrorClass:"form__input_type_error",errorClass:"form__input-error_active"},Array.from(document.querySelectorAll(x.formSelector)).forEach((function(e){var t=new r(e,x),n=e.getAttribute("name");z[n]=t,t.enableValidation()}));var M=new E(".popup_type_image");M.setEventListener();var K=new L(".popup_type_confirm",(function(e){Z.deleteCard("https://mesto.nomoreparties.co/v1/cohort-43/cards/","".concat(e))}));function Q(e){var n=new t(e,".template__six-boxes",(function(){M.open(e)}),(function(e){K.open(),K.setEventListener(e)}),(function(e){Z.likePut("https://mesto.nomoreparties.co/v1/cohort-43/cards/","".concat(e._id)).then((function(e){n.changeNumberLikes(e)})).catch((function(e){console.log(e)}))}),(function(e){Z.likeDelete("https://mesto.nomoreparties.co/v1/cohort-43/cards/","".concat(e._id)).then((function(e){n.changeNumberLikes(e)})).catch((function(e){console.log(e)}))}));return n.generateElement()}var W=new h({selectorPopup:".popup_type_new-card",callbackSubmitForm:function(e){Z.addNewCard("https://mesto.nomoreparties.co/v1/cohort-43/cards",e).then((function(e){new q({data:e,renderer:function(e){cardsList.addItem(Q(e))},domCardContainer:A}).addItem(Q(e))})).catch((function(e){console.log(e)}))}});W.setEventListener();var X=new T({selectorName:".profile__name",selectorCareer:".profile__career"});V.addEventListener("click",(function(){z["profile-card"].resetValidation(),W.open()}));var Y=new h({selectorPopup:".popup_type_edit",callbackSubmitForm:function(e){Z.changeProfile("https://mesto.nomoreparties.co/v1/cohort-43/users/me",e).then((function(){$()})).catch((function(e){console.log(e)}))}});Y.setEventListener(),D.addEventListener("click",(function(){z["profile-edit"].resetValidation();var e=X.getUserInfo();F.value=e.name,U.value=e.career,Y.open()}));var Z=new N;function $(){Z.getInfromationUser("https://mesto.nomoreparties.co/v1/cohort-43/users/me").then((function(e){H.textContent=e.name,G.textContent=e.about,J.src=e.avatar})).catch((function(e){console.log(e)}))}$(),Z.loadCardImages("https://mesto.nomoreparties.co/v1/cohort-43/cards").then((function(e){console.log(e);var t=new q({data:e,renderer:function(e){t.addItem(Q(e))}},A);t.renderItems()})).catch((function(e){console.log(e)}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QixJQUFNSSxFQUE4QkwsRUFBY00sY0FDbERyQyxFQUFjaEQsTUFBUW9GLEVBQTRCekssS0FDbERzSSxFQUFnQmpELE1BQVFvRixFQUE0QjdELE9BQ3BEMEQsRUFBZ0JmLFVBR2xCLElBQU1KLEVBQU0sSUFBSXBDLEVBRWhCLFNBQVN5RCxJQUNQckIsRUFBSXdCLG1CQUFtQix3REFDcEJyRCxNQUFLLFNBQUNzRCxHQUNMckMsRUFBWXhILFlBQWM2SixFQUFPNUssS0FDakN3SSxFQUFjekgsWUFBYzZKLEVBQU8zQyxNQUNuQ1EsRUFBYzdILElBQU1nSyxFQUFPQyxVQUU1QnBCLE9BQU0sU0FBQ0MsR0FDTkMsUUFBUUMsSUFBSUYsTUFJbEJjLElBRUFyQixFQUFJMkIsZUFBZSxxREFDbEJ4RCxNQUFLLFNBQUNzRCxHQUNOakIsUUFBUUMsSUFBSWdCLEdBQ1osSUFBTVYsRUFBWSxJQUFJcEUsRUFBUSxDQUM3QnRHLEtBQU1vTCxFQUNONUUsU0FBVSxTQUFDTCxHQUNUdUUsRUFBVUMsUUFBUWQsRUFBVzFELE1BR2pDdUMsR0FFQWdDLEVBQVVhLGlCQUVUdEIsT0FBTSxTQUFDQyxHQUNOQyxRQUFRQyxJQUFJRixPIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8veWFuZGV4X3ByYWt0aWt1bS8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8veWFuZGV4X3ByYWt0aWt1bS8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8veWFuZGV4X3ByYWt0aWt1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL3lhbmRleF9wcmFrdGlrdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL3lhbmRleF9wcmFrdGlrdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly95YW5kZXhfcHJha3Rpa3VtLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoQ29uZmlybS5qcyIsIndlYnBhY2s6Ly95YW5kZXhfcHJha3Rpa3VtLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly95YW5kZXhfcHJha3Rpa3VtLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8veWFuZGV4X3ByYWt0aWt1bS8uL3NyYy9wYWdlL0FwaS5qcyIsIndlYnBhY2s6Ly95YW5kZXhfcHJha3Rpa3VtLy4vc3JjL3BhZ2UvaW5kZXguanMiLCJ3ZWJwYWNrOi8veWFuZGV4X3ByYWt0aWt1bS8uL3NyYy91dGlscy9jb25zdGFudHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNsYXNzIENhcmQge1xuICBjb25zdHJ1Y3RvcihkYXRhLCBzZWxlY3RvciwgcmVuZGVyZXJQb3B1cEltYWdlLCByZW5kZXJQb3B1cENvbmZpcm0sIGhhbmRsZXJMaWtlQWN0aXZlLCBoYW5kbGVyTGlrZU5vdEFjdGl2ZSkge1xuICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gICAgdGhpcy5fbmFtZSA9IHRoaXMuZGF0YS5uYW1lO1xuICAgIHRoaXMuX2xpbmsgPSB0aGlzLmRhdGEubGluaztcbiAgICB0aGlzLl9vd25lcklkID0gdGhpcy5kYXRhLm93bmVyLl9pZDtcbiAgICB0aGlzLl9jYXJkSWQgPSB0aGlzLmRhdGEuX2lkO1xuICAgIHRoaXMuX3NlbGVjdG9yID0gc2VsZWN0b3I7XG4gICAgdGhpcy5yZW5kZXJlclBvcHVwSW1hZ2UgPSByZW5kZXJlclBvcHVwSW1hZ2U7XG4gICAgdGhpcy5yZW5kZXJQb3B1cENvbmZpcm0gPSByZW5kZXJQb3B1cENvbmZpcm07XG4gICAgdGhpcy5oYW5kbGVyTGlrZUFjdGl2ZSA9IGhhbmRsZXJMaWtlQWN0aXZlO1xuICAgIHRoaXMuaGFuZGxlckxpa2VOb3RBY3RpdmUgPSBoYW5kbGVyTGlrZU5vdEFjdGl2ZTtcbiAgfVxuXG4gIGdlbmVyYXRlRWxlbWVudCgpIHtcbiAgICB0aGlzLl9lbGVtZW50ID0gdGhpcy5fZ2V0RWxlbWVudCgpO1xuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXIoKTtcblxuICAgIHRoaXMuX2NhcmRJbWFnZS5zcmMgPSB0aGlzLl9saW5rO1xuICAgIHRoaXMuX2NhcmRJbWFnZS5hbHQgPSB0aGlzLl9uYW1lO1xuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX3RpdGxlJykudGV4dENvbnRlbnQgPSB0aGlzLl9uYW1lO1xuICAgIHRoaXMuY2hhbmdlTnVtYmVyTGlrZXModGhpcy5kYXRhKTtcbiAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcbiAgfVxuXG4gIGNoYW5nZU51bWJlckxpa2VzKGFycmF5TGlrZXMpIHtcbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19jb3VudCcpLnRleHRDb250ZW50ID0gYXJyYXlMaWtlcy5saWtlcy5sZW5ndGg7XG4gIH1cblxuICBfZ2V0RWxlbWVudCgpIHtcbiAgICBjb25zdCBjYXJkRWxlbWVudCA9IGRvY3VtZW50XG4gICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy5fc2VsZWN0b3IpXG4gICAgLmNvbnRlbnRcbiAgICAucXVlcnlTZWxlY3RvcignLmVsZW1lbnQnKVxuICAgIC5jbG9uZU5vZGUodHJ1ZSk7XG5cbiAgICB0aGlzLl9jYXJkSW1hZ2UgPSBjYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9faW1hZ2UnKTtcblxuICAgIHRoaXMuX2VsZW1lbnQgPSBjYXJkRWxlbWVudDtcbiAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcbiAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVyKCkge1xuICAgIHRoaXMuX2J1dHRvbiA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2J1dHRvbicpO1xuICAgIHRoaXMuX3RyYXNoQnV0dG9uID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fdHJhc2gtaWNvbicpO1xuICAgIGlmICh0aGlzLl9vd25lcklkID09PSAnZjlkNGJhOGFhYTQyODJjYzU5MDk3YjEwJykge1xuICAgICAgdGhpcy5fdHJhc2hCdXR0b24uY2xhc3NMaXN0LmFkZCgnZWxlbWVudF9fdHJhc2gtaWNvbl9hY3RpdmUnKTtcbiAgICB9XG5cbiAgICB0aGlzLl9idXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PntcbiAgICAgIHRoaXMuX2hhbmRsZUxpa2VBY3RpdmUoKTtcbiAgICB9KVxuICAgIHRoaXMuX3RyYXNoQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT57XG4gICAgICB0aGlzLnJlbmRlclBvcHVwQ29uZmlybSh0aGlzLl9jYXJkSWQpO1xuICAgIH0pXG5cbiAgICB0aGlzLl9jYXJkSW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLnJlbmRlcmVyUG9wdXBJbWFnZSk7XG4gIH1cblxuICBfaGFuZGxlTGlrZUFjdGl2ZSgpIHtcbiAgICB0aGlzLl9idXR0b24uY2xhc3NMaXN0LnRvZ2dsZSgnZWxlbWVudF9fYnV0dG9uX2FjdGl2ZScpO1xuICAgIGlmICh0aGlzLl9idXR0b24uY2xhc3NMaXN0LmNvbnRhaW5zKCdlbGVtZW50X19idXR0b25fYWN0aXZlJykpIHtcbiAgICAgIHRoaXMuaGFuZGxlckxpa2VBY3RpdmUodGhpcy5kYXRhKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5oYW5kbGVyTGlrZU5vdEFjdGl2ZSh0aGlzLmRhdGEpO1xuICAgIH1cbiAgfVxuXG4gIF9yZW1vdmVDYXJkRWxlbWVudCgpIHtcbiAgICB0aGlzLl9lbGVtZW50LnJlbW92ZSgpO1xuICB9XG5cbn1cbiIsImV4cG9ydCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcbiAgY29uc3RydWN0b3IoZm9ybUVsZW1lbnQsIGNvbmZpZykge1xuICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gZm9ybUVsZW1lbnQ7XG4gICAgdGhpcy5fZm9ybVNlbGVjdG9yID0gY29uZmlnLmZvcm1TZWxlY3RvcjtcbiAgICB0aGlzLl9pbnB1dFNlbGVjdG9yID0gY29uZmlnLmlucHV0U2VsZWN0b3I7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IgPSBjb25maWcuc3VibWl0QnV0dG9uU2VsZWN0b3I7XG4gICAgdGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyA9IGNvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzO1xuICAgIHRoaXMuX2lucHV0RXJyb3JDbGFzcyA9IGNvbmZpZy5pbnB1dEVycm9yQ2xhc3M7XG4gICAgdGhpcy5fZXJyb3JDbGFzcyA9IGNvbmZpZy5lcnJvckNsYXNzO1xuICB9XG5cblxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xuICAgIHRoaXMuX2Zvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChldnQpID0+IHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXIoKTtcbiAgfTtcblxuICBfdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XG4gICAgaWYodGhpcy5faGFzSW52YWxpZElucHV0KCkpIHtcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LmRpc2FibGVkID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgX3NldEV2ZW50TGlzdGVuZXIoKSB7XG4gICAgdGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbSh0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2lucHV0U2VsZWN0b3IpKTtcbiAgICB0aGlzLl9idXR0b25FbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3Rvcik7XG5cbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xuXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgICAgICB0aGlzLl9oYW5kbGVJbnB1dEVsZW1lbnQgPSBpbnB1dEVsZW1lbnQ7XG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgICAgIHRoaXMuX2lzVmFsaWQoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgX2hhc0ludmFsaWRJbnB1dCgpIHtcbiAgICByZXR1cm4gdGhpcy5faW5wdXRMaXN0LnNvbWUoKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgcmV0dXJuICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQ7XG4gICAgfSk7XG4gIH1cblxuICBfaXNWYWxpZCgpIHtcbiAgICBpZighdGhpcy5faGFuZGxlSW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XG4gICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcigpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcigpO1xuICAgIH1cbiAgfVxuXG4gIF9zaG93SW5wdXRFcnJvcigpIHtcbiAgICB0aGlzLl9lcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAuJHt0aGlzLl9oYW5kbGVJbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XG4gICAgdGhpcy5faGFuZGxlSW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcbiAgICB0aGlzLl9lcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSB0aGlzLl9oYW5kbGVJbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2U7XG4gICAgdGhpcy5fZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fZXJyb3JDbGFzcyk7XG4gIH1cblxuICBfaGlkZUlucHV0RXJyb3IoKSB7XG4gICAgdGhpcy5fZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgLiR7dGhpcy5faGFuZGxlSW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xuICAgIHRoaXMuX2hhbmRsZUlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XG4gICAgdGhpcy5fZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZXJyb3JDbGFzcyk7XG4gICAgdGhpcy5fZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gJyc7XG4gIH1cblxuICByZXNldFZhbGlkYXRpb24oKSB7XG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcblxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZUlucHV0RWxlbWVudCA9IGlucHV0RWxlbWVudDtcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKCk7XG4gICAgfSlcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXAge1xuICBjb25zdHJ1Y3RvcihzZWxlY3RvclBvcHVwKSB7XG4gICAgdGhpcy5fc2VsZWN0b3IgPSBzZWxlY3RvclBvcHVwO1xuICAgIHRoaXMuX3BvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9zZWxlY3Rvcik7XG4gICAgdGhpcy5faGFuZGxlRXNjQ2xvc2UgPSB0aGlzLl9oYW5kbGVFc2NDbG9zZS5iaW5kKHRoaXMpO1xuICB9XG5cbiAgb3BlbigpIHtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5hZGQoJ3BvcHVwX2FjdGl2ZScpO1xuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QucmVtb3ZlKCdwb3B1cF9hY3RpdmUnKTtcbiAgfVxuXG4gIF9oYW5kbGVFc2NDbG9zZShldnQpIHtcbiAgICBpZihldnQua2V5ID09PSAnRXNjYXBlJyl7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcigpIHtcbiAgICB0aGlzLl9wb3B1cC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCAoZXZ0KSA9PiB7XG5cbiAgICAgIGlmIChldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygncG9wdXBfYWN0aXZlJykpIHtcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgfVxuXG4gICAgICBpZiAoZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3NpbmdsZV9fY3Jvc3MnKSkge1xuICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgfVxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHtzZWxlY3RvclBvcHVwLCBjYWxsYmFja1N1Ym1pdEZvcm19KSB7XG4gICAgc3VwZXIoc2VsZWN0b3JQb3B1cCk7XG4gICAgdGhpcy5jYWxsYmFja1N1Ym1pdEZvcm0gPSBjYWxsYmFja1N1Ym1pdEZvcm07XG4gICAgdGhpcy5fZm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtJyk7XG4gICAgdGhpcy5faW5wdXRMaXN0ID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvckFsbCgnLmZvcm1fX2lucHV0Jyk7XG5cdH1cblxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XG4gICAgdGhpcy5fZm9ybVZhbHVlcyA9IHt9O1xuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKGlucHV0ID0+IHRoaXMuX2Zvcm1WYWx1ZXNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZSk7XG5cbiAgICByZXR1cm4gdGhpcy5fZm9ybVZhbHVlcztcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXIoKSB7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcigpO1xuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKCkgPT4ge1xuICAgICAgdGhpcy5jYWxsYmFja1N1Ym1pdEZvcm0odGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfSk7XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICBzdXBlci5jbG9zZSgpO1xuICAgIHRoaXMuX2Zvcm0ucmVzZXQoKTtcbiAgfVxufVxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3RvcihzZWxlY3RvclBvcHVwKSB7XG4gICAgc3VwZXIoc2VsZWN0b3JQb3B1cCk7XG4gICAgdGhpcy5lbGVtZW50UG9wdXBQaWN0dXJlID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19waWN0dXJlJyk7XG4gICAgdGhpcy5lbGVtZW50UG9wdXBTaWduYXR1cmUgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX3NpZ25hdHVyZScpO1xuXHR9XG5cbiAgb3BlbihpdGVtKSB7XG4gICAgdGhpcy5lbGVtZW50UG9wdXBQaWN0dXJlLnNyYyA9IGl0ZW0ubGluaztcbiAgICB0aGlzLmVsZW1lbnRQb3B1cFNpZ25hdHVyZS5hbHQgPSBpdGVtLm5hbWU7XG4gICAgdGhpcy5lbGVtZW50UG9wdXBTaWduYXR1cmUudGV4dENvbnRlbnQgPSBpdGVtLm5hbWU7XG4gICAgc3VwZXIub3BlbigpO1xuICB9XG4gIH1cbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhDb25maXJtIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3RvcihzZWxlY3RvclBvcHVwLCBjYWxsYmFja1N1Ym1pdEZvcm0pIHtcbiAgICBzdXBlcihzZWxlY3RvclBvcHVwKTtcbiAgICB0aGlzLmNhbGxiYWNrU3VibWl0Rm9ybSA9IGNhbGxiYWNrU3VibWl0Rm9ybTtcbiAgICB0aGlzLl9mb3JtID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLmZvcm0nKTtcblx0fVxuXG4gIHNldEV2ZW50TGlzdGVuZXIoaWRDYXJkKSB7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcigpO1xuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKCkgPT4ge1xuICAgICAgdGhpcy5jYWxsYmFja1N1Ym1pdEZvcm0oaWRDYXJkKTtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9KTtcbiAgfVxufVxuIiwiZXhwb3J0IGNsYXNzIFNlY3Rpb24ge1xuICBjb25zdHJ1Y3Rvcih7ZGF0YSwgcmVuZGVyZXJ9LCBjb250YWluZXJTZWxlY3Rvcikge1xuICAgIHRoaXMuX3JlbmRlcmVkSXRlbXMgPSBkYXRhO1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG5cbiAgICB0aGlzLl9jb250YWluZXJIdG1sID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXJTZWxlY3Rvcik7XG4gIH1cblxuICByZW5kZXJJdGVtcygpIHtcbiAgICB0aGlzLl9yZW5kZXJlZEl0ZW1zLmZvckVhY2goaXRlbSA9PiB0aGlzLl9yZW5kZXJlcihpdGVtKSlcbiAgfVxuXG4gIGFkZEl0ZW0oZWxlbWVudCkge1xuICAgIHRoaXMuX2NvbnRhaW5lckh0bWwucHJlcGVuZChlbGVtZW50KTtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xuICBjb25zdHJ1Y3Rvcih7c2VsZWN0b3JOYW1lLCBzZWxlY3RvckNhcmVlcn0pIHtcbiAgICB0aGlzLnVzZXJOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3Rvck5hbWUpO1xuICAgIHRoaXMudXNlckNhcmVlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3JDYXJlZXIpO1xuICB9XG5cbiAgZ2V0VXNlckluZm8oKSB7XG4gICAgdGhpcy5hcnJheU5ld0NhcmREYXRhID0ge25hbWU6IHRoaXMudXNlck5hbWUudGV4dENvbnRlbnQsIGNhcmVlcjogdGhpcy51c2VyQ2FyZWVyLnRleHRDb250ZW50fTtcbiAgICByZXR1cm4gdGhpcy5hcnJheU5ld0NhcmREYXRhO1xuICB9XG5cbiAgc2V0VXNlckluZm8odXNlckluZm8pIHtcbiAgICB0aGlzLnVzZXJOYW1lLnRleHRDb250ZW50ID0gdXNlckluZm8uZmlyc3RuYW1lO1xuICAgIHRoaXMudXNlckNhcmVlci50ZXh0Q29udGVudCA9IHVzZXJJbmZvLmNhcmVlcjtcbiAgfVxufVxuIiwiZXhwb3J0IGNsYXNzIEFwaSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuaGVhZGVyc1JlcXVlc3QgPSB7XG4gICAgICBhdXRob3JpemF0aW9uOiAnYjM0YWJiOTktYmI5Yy00OWYwLWI0ZWUtOTNjYjY2NjE0MTA0JyxcbiAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcbiAgICB9O1xuICAgIH1cblxuICAgIGdldEluZnJvbWF0aW9uVXNlcihzZXJ2ZXJsaW5rKSB7XG4gICAgICB0aGlzLmxpbmsgPSBzZXJ2ZXJsaW5rO1xuICAgICAgcmV0dXJuIGZldGNoKHRoaXMubGluaywge1xuICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnNSZXF1ZXN0XG4gICAgICB9KS50aGVuKChyZXMpID0+IHtcbiAgICAgICAgaWYgKHJlcy5vaykge1xuICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGDQktC+0LfQvdC40LrQu9CwINC+0YjQuNCx0LrQsCDQv9GA0Lgg0L7RgtC/0YDQsNCy0LrQtSDQt9Cw0L/RgNC+0YHQsCDQvdCwINGB0LXRgNCy0LXRgDogJHtyZXMuc3RhdHVzfWApO1xuICAgICAgfSlcbiAgICB9XG5cbiAgICBsb2FkQ2FyZEltYWdlcyhzZXJ2ZXJsaW5rKSB7XG4gICAgICB0aGlzLmxpbmsgPSBzZXJ2ZXJsaW5rO1xuICAgICAgcmV0dXJuIGZldGNoKHRoaXMubGluaywge1xuICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnNSZXF1ZXN0XG4gICAgICB9KS50aGVuKChyZXMpID0+IHtcbiAgICAgICAgaWYgKHJlcy5vaykge1xuICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGDQktC+0LfQvdC40LrQu9CwINC+0YjQuNCx0LrQsCDQv9GA0Lgg0L7RgtC/0YDQsNCy0LrQtSDQt9Cw0L/RgNC+0YHQsCDQvdCwINGB0LXRgNCy0LXRgDogJHtyZXMuc3RhdHVzfWApO1xuICAgICAgfSlcbiAgICB9XG5cbiAgICBjaGFuZ2VQcm9maWxlKHNlcnZlcmxpbmssIGFycmF5KSB7XG4gICAgICB0aGlzLmxpbmsgPSBzZXJ2ZXJsaW5rO1xuICAgICAgcmV0dXJuIGZldGNoKHRoaXMubGluaywge1xuICAgICAgICBtZXRob2Q6ICdQQVRDSCcsXG4gICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVyc1JlcXVlc3QsXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICBuYW1lIDogYCR7YXJyYXkuZmlyc3RuYW1lfWAsXG4gICAgICAgICAgYWJvdXQgOiBgJHthcnJheS5jYXJlZXJ9YFxuICAgICAgICB9KVxuICAgICAgfSkudGhlbigocmVzKSA9PiB7XG4gICAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChg0JLQvtC30L3QuNC60LvQsCDQvtGI0LjQsdC60LAg0L/RgNC4INC+0YLQv9GA0LDQstC60LUg0LfQsNC/0YDQvtGB0LAg0L3QsCDRgdC10YDQstC10YA6ICR7cmVzLnN0YXR1c31gKTtcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgYWRkTmV3Q2FyZChzZXJ2ZXJsaW5rLCBhcnJheSkge1xuICAgICAgdGhpcy5saW5rID0gc2VydmVybGluaztcbiAgICAgIHJldHVybiBmZXRjaCh0aGlzLmxpbmssIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVyc1JlcXVlc3QsXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICBuYW1lIDogYXJyYXkubmFtZSxcbiAgICAgICAgICBsaW5rIDogYXJyYXkubGlua1xuICAgICAgICB9KVxuICAgICAgfSkudGhlbigocmVzKSA9PiB7XG4gICAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChg0JLQvtC30L3QuNC60LvQsCDQvtGI0LjQsdC60LAg0L/RgNC4INC+0YLQv9GA0LDQstC60LUg0LfQsNC/0YDQvtGB0LAg0L3QsCDRgdC10YDQstC10YA6ICR7cmVzLnN0YXR1c31gKTtcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgZGVsZXRlQ2FyZChzZXJ2ZXJsaW5rLCBpZENhcmQpIHtcbiAgICAgIHRoaXMubGluayA9IChgJHtzZXJ2ZXJsaW5rfWArIGAke2lkQ2FyZH1gKTtcbiAgICAgIHJldHVybiBmZXRjaCh0aGlzLmxpbmssIHtcbiAgICAgICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzUmVxdWVzdCxcbiAgICAgIH0pLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICBpZiAocmVzLm9rKSB7XG4gICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYNCS0L7Qt9C90LjQutC70LAg0L7RiNC40LHQutCwINC/0YDQuCDQvtGC0L/RgNCw0LLQutC1INC30LDQv9GA0L7RgdCwINC90LAg0YHQtdGA0LLQtdGAOiAke3Jlcy5zdGF0dXN9YCk7XG4gICAgICB9KVxuICAgIH1cblxuICAgIGxpa2VQdXQoc2VydmVybGluaywgaWRDYXJkKSB7XG4gICAgICB0aGlzLmxpbmsgPSAoYCR7c2VydmVybGlua31gKyBgJHtpZENhcmR9YCArICcvbGlrZXMnKTtcbiAgICAgIHJldHVybiBmZXRjaCh0aGlzLmxpbmssIHtcbiAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzUmVxdWVzdCxcbiAgICAgIH0pLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICBpZiAocmVzLm9rKSB7XG4gICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYNCS0L7Qt9C90LjQutC70LAg0L7RiNC40LHQutCwINC/0YDQuCDQvtGC0L/RgNCw0LLQutC1INC30LDQv9GA0L7RgdCwINC90LAg0YHQtdGA0LLQtdGAOiAke3Jlcy5zdGF0dXN9YCk7XG4gICAgICB9KVxuICAgIH1cblxuICAgIGxpa2VEZWxldGUoc2VydmVybGluaywgaWRDYXJkKSB7XG4gICAgICB0aGlzLmxpbmsgPSAoYCR7c2VydmVybGlua31gKyBgJHtpZENhcmR9YCArICcvbGlrZXMnKTtcbiAgICAgIHJldHVybiBmZXRjaCh0aGlzLmxpbmssIHtcbiAgICAgICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzUmVxdWVzdCxcbiAgICAgIH0pLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICBpZiAocmVzLm9rKSB7XG4gICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYNCS0L7Qt9C90LjQutC70LAg0L7RiNC40LHQutCwINC/0YDQuCDQvtGC0L/RgNCw0LLQutC1INC30LDQv9GA0L7RgdCwINC90LAg0YHQtdGA0LLQtdGAOiAke3Jlcy5zdGF0dXN9YCk7XG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4iLCJpbXBvcnQge0NhcmR9IGZyb20gJy4uL2NvbXBvbmVudHMvQ2FyZC5qcyc7XG5pbXBvcnQge0Zvcm1WYWxpZGF0b3J9IGZyb20gJy4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyc7XG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMnO1xuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMnO1xuaW1wb3J0IFBvcHVwV2l0aENvbmZpcm0gZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtLmpzJztcbmltcG9ydCB7IFNlY3Rpb24gfSBmcm9tICcuLi9jb21wb25lbnRzL1NlY3Rpb24uanMnO1xuaW1wb3J0IFVzZXJJbmZvIGZyb20gJy4uL2NvbXBvbmVudHMvVXNlckluZm8uanMnO1xuaW1wb3J0IHsgQXBpIH0gZnJvbSAnLi9BcGkuanMnO1xuXG5pbXBvcnQge1xuICBkb21DYXJkQ29udGFpbmVyLFxuICBjaGFuZ2VQcm9maWxlSWNvbixcbiAgYWRkTmV3Q2FyZEJ1dHRvbixcbiAgaW5wdXROYW1lRm9ybSxcbiAgaW5wdXRDYXJlZXJGb3JtLFxuICBuYW1lVXNlckRvbSxcbiAgY2FyZWVyVXNlckRvbSxcbiAgYXZhdGFyVXNlckRvbVxufSBmcm9tICcuLi91dGlscy9jb25zdGFudHMuanMnO1xuXG5pbXBvcnQgJy4vaW5kZXguY3NzJztcblxuY29uc3QgY29uZmlnID0ge1xuICBmb3JtU2VsZWN0b3I6ICcuZm9ybScsXG4gIGlucHV0U2VsZWN0b3I6ICcuZm9ybV9faW5wdXQnLFxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogJy5mb3JtX19zdWJtaXQnLFxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiAnZm9ybV9fc3VibWl0X2luYWN0aXZlJyxcbiAgaW5wdXRFcnJvckNsYXNzOiAnZm9ybV9faW5wdXRfdHlwZV9lcnJvcicsXG4gIGVycm9yQ2xhc3M6ICdmb3JtX19pbnB1dC1lcnJvcl9hY3RpdmUnXG59O1xuXG5jb25zdCBmb3JtVmFsaWRhdG9ycyA9IHt9O1xuXG5jb25zdCBlbmFibGVWYWxpZGF0aW9uID0gKGNvbmZpZykgPT4ge1xuICBjb25zdCBmb3JtTGlzdCA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChjb25maWcuZm9ybVNlbGVjdG9yKSk7XG4gIGZvcm1MaXN0LmZvckVhY2goKGZvcm1FbGVtZW50KSA9PiB7XG4gICAgY29uc3QgdmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoZm9ybUVsZW1lbnQsIGNvbmZpZyk7XG4gICAgY29uc3QgZm9ybU5hbWUgPSBmb3JtRWxlbWVudC5nZXRBdHRyaWJ1dGUoJ25hbWUnKTtcblxuICAgIGZvcm1WYWxpZGF0b3JzW2Zvcm1OYW1lXSA9IHZhbGlkYXRvcjtcbiAgICB2YWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xuICB9KTtcbn07XG5cbmVuYWJsZVZhbGlkYXRpb24oY29uZmlnKTtcblxuLyogY29uc3QgY2FyZHNMaXN0ID0gbmV3IFNlY3Rpb24oe1xuICBkYXRhOiBpbml0aWFsQ2FyZHMsXG4gIHJlbmRlcmVyOiAoaXRlbSkgPT4ge1xuICAgIGNhcmRzTGlzdC5hZGRJdGVtKGNyZWF0ZUNhcmQoaXRlbSkpO1xuICB9XG59LFxuZG9tQ2FyZENvbnRhaW5lclxuKTtcblxuY2FyZHNMaXN0LnJlbmRlckl0ZW1zKCk7ICovXG5cbmNvbnN0IHBvcHVwSW1hZ2UgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoJy5wb3B1cF90eXBlX2ltYWdlJyk7XG5wb3B1cEltYWdlLnNldEV2ZW50TGlzdGVuZXIoKTtcblxuY29uc3QgcG9wdXBDb25maXJtID0gbmV3IFBvcHVwV2l0aENvbmZpcm0oJy5wb3B1cF90eXBlX2NvbmZpcm0nLCAoaWRDYXJkQ2xhc3MpID0+IHtcbiAgYXBpLmRlbGV0ZUNhcmQoJ2h0dHBzOi8vbWVzdG8ubm9tb3JlcGFydGllcy5jby92MS9jb2hvcnQtNDMvY2FyZHMvJywgYCR7aWRDYXJkQ2xhc3N9YCk7XG59KTtcblxuZnVuY3Rpb24gY3JlYXRlQ2FyZChpdGVtKSB7XG4gIGNvbnN0IG5ld0NhcmRDb250YWluZXIgPSBuZXcgQ2FyZChpdGVtLCAnLnRlbXBsYXRlX19zaXgtYm94ZXMnLCAoKSA9PiB7XG4gICAgcG9wdXBJbWFnZS5vcGVuKGl0ZW0pO1xuICB9LCAoaWRDYXJkKSA9PiB7XG4gICAgcG9wdXBDb25maXJtLm9wZW4oKTtcbiAgICBwb3B1cENvbmZpcm0uc2V0RXZlbnRMaXN0ZW5lcihpZENhcmQpO1xuICB9LFxuICAoZGF0YSkgPT4ge1xuICAgIGFwaS5saWtlUHV0KCdodHRwczovL21lc3RvLm5vbW9yZXBhcnRpZXMuY28vdjEvY29ob3J0LTQzL2NhcmRzLycsIGAke2RhdGEuX2lkfWApXG4gICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgbmV3Q2FyZENvbnRhaW5lci5jaGFuZ2VOdW1iZXJMaWtlcyhyZXMpO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgfSlcbiAgfSxcbiAgKGRhdGEpID0+IHtcbiAgICBhcGkubGlrZURlbGV0ZSgnaHR0cHM6Ly9tZXN0by5ub21vcmVwYXJ0aWVzLmNvL3YxL2NvaG9ydC00My9jYXJkcy8nLCBgJHtkYXRhLl9pZH1gKVxuICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgIG5ld0NhcmRDb250YWluZXIuY2hhbmdlTnVtYmVyTGlrZXMocmVzKTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgIH0pXG4gIH0pO1xuICBjb25zdCBuZXdDYXJkRWxlbWVudCA9IG5ld0NhcmRDb250YWluZXIuZ2VuZXJhdGVFbGVtZW50KCk7XG4gIHJldHVybiBuZXdDYXJkRWxlbWVudDtcbn1cblxuY29uc3QgZm9ybU5ld0NhcmQgPSBuZXcgUG9wdXBXaXRoRm9ybSh7XG4gIHNlbGVjdG9yUG9wdXA6ICcucG9wdXBfdHlwZV9uZXctY2FyZCcsXG4gIGNhbGxiYWNrU3VibWl0Rm9ybTogKGZvcm1kYXRhKSA9PiB7XG4gICAgYXBpLmFkZE5ld0NhcmQoJ2h0dHBzOi8vbWVzdG8ubm9tb3JlcGFydGllcy5jby92MS9jb2hvcnQtNDMvY2FyZHMnLCBmb3JtZGF0YSlcbiAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICBjb25zdCBjcmVhdGVDYXJkTGlzdCA9IG5ldyBTZWN0aW9uKHtcbiAgICAgICAgZGF0YTogcmVzLFxuICAgICAgICByZW5kZXJlcjogKGl0ZW0pID0+IHtcbiAgICAgICAgICBjYXJkc0xpc3QuYWRkSXRlbShjcmVhdGVDYXJkKGl0ZW0pKTtcbiAgICAgICAgfSxcbiAgICAgICAgZG9tQ2FyZENvbnRhaW5lclxuICAgICAgfSk7XG4gICAgICBjcmVhdGVDYXJkTGlzdC5hZGRJdGVtKGNyZWF0ZUNhcmQocmVzKSk7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycikgPT4ge2NvbnNvbGUubG9nKGVycik7fSlcbiAgfVxuXG59KTtcblxuZm9ybU5ld0NhcmQuc2V0RXZlbnRMaXN0ZW5lcigpO1xuXG5jb25zdCBjbGFzc1VzZXJJbmZvID0gbmV3IFVzZXJJbmZvKHtcbiAgc2VsZWN0b3JOYW1lOiAnLnByb2ZpbGVfX25hbWUnLFxuICBzZWxlY3RvckNhcmVlcjogJy5wcm9maWxlX19jYXJlZXInLFxufSlcblxuYWRkTmV3Q2FyZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgZm9ybVZhbGlkYXRvcnNbJ3Byb2ZpbGUtY2FyZCddLnJlc2V0VmFsaWRhdGlvbigpO1xuICBmb3JtTmV3Q2FyZC5vcGVuKCk7XG59KVxuXG5jb25zdCBmb3JtUHJvZmlsZVVzZXIgPSBuZXcgUG9wdXBXaXRoRm9ybSh7XG4gIHNlbGVjdG9yUG9wdXA6ICcucG9wdXBfdHlwZV9lZGl0JyxcbiAgY2FsbGJhY2tTdWJtaXRGb3JtOiAoaXRlbSkgPT4ge1xuICAgIC8qIGNsYXNzVXNlckluZm8uc2V0VXNlckluZm8oaXRlbSk7ICovXG4gICAgYXBpLmNoYW5nZVByb2ZpbGUoJ2h0dHBzOi8vbWVzdG8ubm9tb3JlcGFydGllcy5jby92MS9jb2hvcnQtNDMvdXNlcnMvbWUnLCBpdGVtKVxuICAgIC50aGVuKCgpID0+IHtcbiAgICAgIGNoYW5nZVVzZXJJbmZvRnJvbVNlcnZlcigpO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgfSk7XG5cbiAgfVxufSk7XG5cbmZvcm1Qcm9maWxlVXNlci5zZXRFdmVudExpc3RlbmVyKCk7XG5cbmNoYW5nZVByb2ZpbGVJY29uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBmb3JtVmFsaWRhdG9yc1sncHJvZmlsZS1lZGl0J10ucmVzZXRWYWxpZGF0aW9uKCk7XG4gIGNvbnN0IGRvbVVzZXJJbmZvcm1hdGlvbkNvbnRhaW5lciA9IGNsYXNzVXNlckluZm8uZ2V0VXNlckluZm8oKTtcbiAgaW5wdXROYW1lRm9ybS52YWx1ZSA9IGRvbVVzZXJJbmZvcm1hdGlvbkNvbnRhaW5lci5uYW1lO1xuICBpbnB1dENhcmVlckZvcm0udmFsdWUgPSBkb21Vc2VySW5mb3JtYXRpb25Db250YWluZXIuY2FyZWVyO1xuICBmb3JtUHJvZmlsZVVzZXIub3BlbigpO1xufSlcblxuY29uc3QgYXBpID0gbmV3IEFwaSgpO1xuXG5mdW5jdGlvbiBjaGFuZ2VVc2VySW5mb0Zyb21TZXJ2ZXIoKSB7XG4gIGFwaS5nZXRJbmZyb21hdGlvblVzZXIoJ2h0dHBzOi8vbWVzdG8ubm9tb3JlcGFydGllcy5jby92MS9jb2hvcnQtNDMvdXNlcnMvbWUnKVxuICAgIC50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgIG5hbWVVc2VyRG9tLnRleHRDb250ZW50ID0gcmVzdWx0Lm5hbWU7XG4gICAgICBjYXJlZXJVc2VyRG9tLnRleHRDb250ZW50ID0gcmVzdWx0LmFib3V0O1xuICAgICAgYXZhdGFyVXNlckRvbS5zcmMgPSByZXN1bHQuYXZhdGFyO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgfSlcbn1cblxuY2hhbmdlVXNlckluZm9Gcm9tU2VydmVyKCk7XG5cbmFwaS5sb2FkQ2FyZEltYWdlcygnaHR0cHM6Ly9tZXN0by5ub21vcmVwYXJ0aWVzLmNvL3YxL2NvaG9ydC00My9jYXJkcycpXG4udGhlbigocmVzdWx0KSA9PiB7XG4gY29uc29sZS5sb2cocmVzdWx0KTtcbiBjb25zdCBjYXJkc0xpc3QgPSBuZXcgU2VjdGlvbih7XG4gIGRhdGE6IHJlc3VsdCxcbiAgcmVuZGVyZXI6IChpdGVtKSA9PiB7XG4gICAgY2FyZHNMaXN0LmFkZEl0ZW0oY3JlYXRlQ2FyZChpdGVtKSk7XG4gIH1cbn0sXG5kb21DYXJkQ29udGFpbmVyXG4pO1xuY2FyZHNMaXN0LnJlbmRlckl0ZW1zKCk7XG59KVxuLmNhdGNoKChlcnIpID0+IHtcbiAgY29uc29sZS5sb2coZXJyKTtcbn0pXG4iLCJjb25zdCBkb21DYXJkQ29udGFpbmVyID0gJy5lbGVtZW50cyc7XG5jb25zdCBjaGFuZ2VQcm9maWxlSWNvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IgKCcucHJvZmlsZV9fZWRpdC1idXR0b24nKTtcbmNvbnN0IGFkZE5ld0NhcmRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yICgnLnByb2ZpbGVfX2FkZC1idXR0b24nKTtcblxuY29uc3QgaW5wdXROYW1lRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mb3JtX19pbnB1dF90eXBlX25hbWUnKTtcbmNvbnN0IGlucHV0Q2FyZWVyRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mb3JtX19pbnB1dF90eXBlX2NhcmVlcicpO1xuXG5jb25zdCBuYW1lVXNlckRvbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19uYW1lJyk7XG5jb25zdCBjYXJlZXJVc2VyRG9tID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2NhcmVlcicpO1xuY29uc3QgYXZhdGFyVXNlckRvbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19hdmF0YXInKTtcblxuZXhwb3J0IHtkb21DYXJkQ29udGFpbmVyLCBjaGFuZ2VQcm9maWxlSWNvbiwgYWRkTmV3Q2FyZEJ1dHRvbiwgaW5wdXROYW1lRm9ybSwgaW5wdXRDYXJlZXJGb3JtLCBuYW1lVXNlckRvbSwgY2FyZWVyVXNlckRvbSwgYXZhdGFyVXNlckRvbX07XG4iXSwibmFtZXMiOlsiQ2FyZCIsImRhdGEiLCJzZWxlY3RvciIsInJlbmRlcmVyUG9wdXBJbWFnZSIsInJlbmRlclBvcHVwQ29uZmlybSIsImhhbmRsZXJMaWtlQWN0aXZlIiwiaGFuZGxlckxpa2VOb3RBY3RpdmUiLCJ0aGlzIiwiX25hbWUiLCJuYW1lIiwiX2xpbmsiLCJsaW5rIiwiX293bmVySWQiLCJvd25lciIsIl9pZCIsIl9jYXJkSWQiLCJfc2VsZWN0b3IiLCJfZWxlbWVudCIsIl9nZXRFbGVtZW50IiwiX3NldEV2ZW50TGlzdGVuZXIiLCJfY2FyZEltYWdlIiwic3JjIiwiYWx0IiwicXVlcnlTZWxlY3RvciIsInRleHRDb250ZW50IiwiY2hhbmdlTnVtYmVyTGlrZXMiLCJhcnJheUxpa2VzIiwibGlrZXMiLCJsZW5ndGgiLCJjYXJkRWxlbWVudCIsImRvY3VtZW50IiwiY29udGVudCIsImNsb25lTm9kZSIsIl9idXR0b24iLCJfdHJhc2hCdXR0b24iLCJjbGFzc0xpc3QiLCJhZGQiLCJhZGRFdmVudExpc3RlbmVyIiwiX2hhbmRsZUxpa2VBY3RpdmUiLCJ0b2dnbGUiLCJjb250YWlucyIsInJlbW92ZSIsIkZvcm1WYWxpZGF0b3IiLCJmb3JtRWxlbWVudCIsImNvbmZpZyIsIl9mb3JtRWxlbWVudCIsIl9mb3JtU2VsZWN0b3IiLCJmb3JtU2VsZWN0b3IiLCJfaW5wdXRTZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJfc3VibWl0QnV0dG9uU2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsIl9pbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsIl9pbnB1dEVycm9yQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJfZXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJldnQiLCJwcmV2ZW50RGVmYXVsdCIsIl9oYXNJbnZhbGlkSW5wdXQiLCJfYnV0dG9uRWxlbWVudCIsImRpc2FibGVkIiwiX2lucHV0TGlzdCIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJmb3JFYWNoIiwiaW5wdXRFbGVtZW50IiwiX2hhbmRsZUlucHV0RWxlbWVudCIsIl9pc1ZhbGlkIiwic29tZSIsInZhbGlkaXR5IiwidmFsaWQiLCJfaGlkZUlucHV0RXJyb3IiLCJfc2hvd0lucHV0RXJyb3IiLCJfZXJyb3JFbGVtZW50IiwiaWQiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsIlBvcHVwIiwic2VsZWN0b3JQb3B1cCIsIl9wb3B1cCIsIl9oYW5kbGVFc2NDbG9zZSIsImJpbmQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwia2V5IiwiY2xvc2UiLCJ0YXJnZXQiLCJQb3B1cFdpdGhGb3JtIiwiY2FsbGJhY2tTdWJtaXRGb3JtIiwiX2Zvcm0iLCJfZm9ybVZhbHVlcyIsImlucHV0IiwidmFsdWUiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJyZXNldCIsIlBvcHVwV2l0aEltYWdlIiwiZWxlbWVudFBvcHVwUGljdHVyZSIsImVsZW1lbnRQb3B1cFNpZ25hdHVyZSIsIml0ZW0iLCJQb3B1cFdpdGhDb25maXJtIiwiaWRDYXJkIiwiU2VjdGlvbiIsImNvbnRhaW5lclNlbGVjdG9yIiwicmVuZGVyZXIiLCJfcmVuZGVyZWRJdGVtcyIsIl9yZW5kZXJlciIsIl9jb250YWluZXJIdG1sIiwiZWxlbWVudCIsInByZXBlbmQiLCJVc2VySW5mbyIsInNlbGVjdG9yTmFtZSIsInNlbGVjdG9yQ2FyZWVyIiwidXNlck5hbWUiLCJ1c2VyQ2FyZWVyIiwiYXJyYXlOZXdDYXJkRGF0YSIsImNhcmVlciIsInVzZXJJbmZvIiwiZmlyc3RuYW1lIiwiQXBpIiwiaGVhZGVyc1JlcXVlc3QiLCJhdXRob3JpemF0aW9uIiwic2VydmVybGluayIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsInRoZW4iLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiYXJyYXkiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImFib3V0IiwiZG9tQ2FyZENvbnRhaW5lciIsImNoYW5nZVByb2ZpbGVJY29uIiwiYWRkTmV3Q2FyZEJ1dHRvbiIsImlucHV0TmFtZUZvcm0iLCJpbnB1dENhcmVlckZvcm0iLCJuYW1lVXNlckRvbSIsImNhcmVlclVzZXJEb20iLCJhdmF0YXJVc2VyRG9tIiwiZm9ybVZhbGlkYXRvcnMiLCJ2YWxpZGF0b3IiLCJmb3JtTmFtZSIsImdldEF0dHJpYnV0ZSIsImVuYWJsZVZhbGlkYXRpb24iLCJwb3B1cEltYWdlIiwic2V0RXZlbnRMaXN0ZW5lciIsInBvcHVwQ29uZmlybSIsImlkQ2FyZENsYXNzIiwiYXBpIiwiZGVsZXRlQ2FyZCIsImNyZWF0ZUNhcmQiLCJuZXdDYXJkQ29udGFpbmVyIiwib3BlbiIsImxpa2VQdXQiLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJsaWtlRGVsZXRlIiwiZ2VuZXJhdGVFbGVtZW50IiwiZm9ybU5ld0NhcmQiLCJmb3JtZGF0YSIsImFkZE5ld0NhcmQiLCJjYXJkc0xpc3QiLCJhZGRJdGVtIiwiY2xhc3NVc2VySW5mbyIsInJlc2V0VmFsaWRhdGlvbiIsImZvcm1Qcm9maWxlVXNlciIsImNoYW5nZVByb2ZpbGUiLCJjaGFuZ2VVc2VySW5mb0Zyb21TZXJ2ZXIiLCJkb21Vc2VySW5mb3JtYXRpb25Db250YWluZXIiLCJnZXRVc2VySW5mbyIsImdldEluZnJvbWF0aW9uVXNlciIsInJlc3VsdCIsImF2YXRhciIsImxvYWRDYXJkSW1hZ2VzIiwicmVuZGVySXRlbXMiXSwic291cmNlUm9vdCI6IiJ9