(()=>{"use strict";function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var t=function(){function t(e,n,r,o,i,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.data=e,this._name=this.data.name,this._link=this.data.link,this._ownerId=this.data.owner._id,this._cardId=this.data._id,this._selector=n,this.rendererPopupImage=r,this.renderPopupConfirm=o,this.handlerLikeActive=i,this.handlerLikeNotActive=a}var n,r;return n=t,(r=[{key:"generateElement",value:function(){return this._element=this._getElement(),this._setEventListener(),this._cardImage.src=this._link,this._cardImage.alt=this._name,this._element.querySelector(".element__title").textContent=this._name,this.changeNumberLikes(this.data),this._element}},{key:"changeNumberLikes",value:function(e){this._element.querySelector(".element__count").textContent=e.likes.length}},{key:"_getElement",value:function(){var e=document.querySelector(this._selector).content.querySelector(".element").cloneNode(!0);return this._cardImage=e.querySelector(".element__image"),this._element=e,this._element}},{key:"getStatusIdUser",value:function(e){this._booleanStatus=e}},{key:"_setEventListener",value:function(){var e=this;this._button=this._element.querySelector(".element__button"),this._trashButton=this._element.querySelector(".element__trash-icon"),this._booleanStatus&&this._trashButton.classList.add("element__trash-icon_active"),this._button.addEventListener("click",(function(){e._button.classList.contains("element__button_active")?e.handlerLikeNotActive(e.data):e.handlerLikeActive(e.data)})),this._trashButton.addEventListener("click",(function(){e.renderPopupConfirm(e._cardId,e._element)})),this._cardImage.addEventListener("click",this.rendererPopupImage)}},{key:"toggleButtonLike",value:function(){this._button.classList.toggle("element__button_active")}}])&&e(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}();function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var r=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._formElement=t,this._formSelector=n.formSelector,this._inputSelector=n.inputSelector,this._submitButtonSelector=n.submitButtonSelector,this._inactiveButtonClass=n.inactiveButtonClass,this._inputErrorClass=n.inputErrorClass,this._errorClass=n.errorClass}var t,r;return t=e,(r=[{key:"enableValidation",value:function(){this._formElement.addEventListener("submit",(function(e){e.preventDefault()})),this._setEventListener()}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput()?(this._buttonElement.classList.add(this._inactiveButtonClass),this._buttonElement.disabled=!0):(this._buttonElement.classList.remove(this._inactiveButtonClass),this._buttonElement.disabled=!1)}},{key:"_setEventListener",value:function(){var e=this;this._inputList=Array.from(this._formElement.querySelectorAll(this._inputSelector)),this._buttonElement=this._formElement.querySelector(this._submitButtonSelector),this._toggleButtonState(),this._inputList.forEach((function(t){t.addEventListener("input",(function(){e._handleInputElement=t,e._toggleButtonState(),e._isValid()}))}))}},{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(e){return!e.validity.valid}))}},{key:"_isValid",value:function(){this._handleInputElement.validity.valid?this._hideInputError():this._showInputError()}},{key:"_showInputError",value:function(){this._errorElement=this._formElement.querySelector(".".concat(this._handleInputElement.id,"-error")),this._handleInputElement.classList.add(this._inputErrorClass),this._errorElement.textContent=this._handleInputElement.validationMessage,this._errorElement.classList.add(this._errorClass)}},{key:"_hideInputError",value:function(){this._errorElement=this._formElement.querySelector(".".concat(this._handleInputElement.id,"-error")),this._handleInputElement.classList.remove(this._inputErrorClass),this._errorElement.classList.remove(this._errorClass),this._errorElement.textContent=""}},{key:"resetValidation",value:function(){var e=this;this._toggleButtonState(),this._inputList.forEach((function(t){e._handleInputElement=t,e._hideInputError()}))}},{key:"renderLoading",value:function(e){this._buttonElement.textContent=e}}])&&n(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._selector=t,this._popup=document.querySelector(this._selector),this._handleEscClose=this._handleEscClose.bind(this)}var t,n;return t=e,(n=[{key:"open",value:function(){document.addEventListener("keydown",this._handleEscClose),this._popup.classList.add("popup_active")}},{key:"close",value:function(){document.removeEventListener("keydown",this._handleEscClose),this._popup.classList.remove("popup_active")}},{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"setEventListener",value:function(){var e=this;this._popup.addEventListener("mousedown",(function(t){t.target.classList.contains("popup_active")&&e.close(),t.target.classList.contains("single__cross")&&e.close()}))}}])&&o(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(){return u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=s(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},u.apply(this,arguments)}function s(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=p(e)););return e}function l(e,t){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},l(e,t)}function f(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=p(r);if(o){var n=p(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return f(this,e)});function a(e){var t,n=e.selectorPopup,r=e.callbackSubmitForm;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,n)).callbackSubmitForm=r,t._form=t._popup.querySelector(".form"),t._inputList=t._form.querySelectorAll(".form__input"),t}return t=a,(n=[{key:"_getInputValues",value:function(){var e=this;return this._formValues={},this._inputList.forEach((function(t){return e._formValues[t.name]=t.value})),this._formValues}},{key:"setEventListener",value:function(){var e=this;u(p(a.prototype),"setEventListener",this).call(this),this._form.addEventListener("submit",(function(){e.callbackSubmitForm(e._getInputValues())}))}},{key:"close",value:function(){u(p(a.prototype),"close",this).call(this),this._form.reset()}}])&&c(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(i);function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(){return m="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=_(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},m.apply(this,arguments)}function _(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=g(e)););return e}function v(e,t){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},v(e,t)}function b(e,t){if(t&&("object"===d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=g(r);if(o){var n=g(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return b(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).elementPopupPicture=t._popup.querySelector(".popup__picture"),t.elementPopupSignature=t._popup.querySelector(".popup__signature"),t}return t=a,(n=[{key:"open",value:function(e){this.elementPopupPicture.src=e.link,this.elementPopupSignature.alt=e.name,this.elementPopupSignature.textContent=e.name,m(g(a.prototype),"open",this).call(this)}}])&&y(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(i);function k(e){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(e)}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(){return S="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=O(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},S.apply(this,arguments)}function O(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=C(e)););return e}function P(e,t){return P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},P(e,t)}function L(e,t){if(t&&("object"===k(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function C(e){return C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},C(e)}var j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&P(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=C(r);if(o){var n=C(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return L(this,e)});function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e)).callbackSubmitForm=t,n._form=n._popup.querySelector(".form"),n}return t=a,(n=[{key:"setEventListener",value:function(){var e=this;S(C(a.prototype),"setEventListener",this).call(this),this._form.addEventListener("submit",(function(){e.callbackSubmitForm(e._idCard)}))}},{key:"saveIdCard",value:function(e){return this._idCard=e}},{key:"getElementCard",value:function(e){this._element=e}},{key:"returnElement",value:function(){return this._element}}])&&w(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(i);function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var R=function(){function e(t,n){var r=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderer=r,this._containerHtml=document.querySelector(n)}var t,n;return t=e,(n=[{key:"renderItems",value:function(e){var t=this;e.forEach((function(e){return t._renderer(e)}))}},{key:"addItem",value:function(e){this._containerHtml.prepend(e)}}])&&I(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var B=function(){function e(t){var n=t.selectorName,r=t.selectorCareer,o=t.selectorAvatar;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.userName=document.querySelector(n),this.userCareer=document.querySelector(r),this.userAvatar=document.querySelector(o)}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return this.arrayNewCardData={name:this.userName.textContent,career:this.userCareer.textContent},this.arrayNewCardData}},{key:"setUserInfo",value:function(e){this.userName.textContent=e.name,this.userCareer.textContent=e.about,this.userAvatar.src=e.avatar}}])&&q(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var A=function(){function e(t){var n=t.baseUrl,r=t.headers;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.baseUrl=n,this.headers=r}var t,n;return t=e,(n=[{key:"_getResponseData",value:function(e){return e.ok?e.json():Promise.reject("Возникла ошибка при отправке запроса на сервер: ".concat(e.status))}},{key:"getInfromationUser",value:function(){var e=this;return fetch("https://mesto.nomoreparties.co/v1/cohort-43/users/me",{method:"GET",headers:this.headers}).then((function(t){return e._getResponseData(t)}))}},{key:"loadCardImages",value:function(){var e=this;return fetch("https://mesto.nomoreparties.co/v1/cohort-43/cards",{method:"GET",headers:this.headers}).then((function(t){return e._getResponseData(t)}))}},{key:"changeProfile",value:function(e){var t=this;return fetch("https://mesto.nomoreparties.co/v1/cohort-43/users/me",{method:"PATCH",headers:this.headers,body:JSON.stringify({name:"".concat(e.firstname),about:"".concat(e.career)})}).then((function(e){return t._getResponseData(e)}))}},{key:"addNewCard",value:function(e){var t=this;return fetch("https://mesto.nomoreparties.co/v1/cohort-43/cards",{method:"POST",headers:this.headers,body:JSON.stringify({name:e.name,link:e.link})}).then((function(e){return t._getResponseData(e)}))}},{key:"deleteCard",value:function(e){var t=this;return this.link="https://mesto.nomoreparties.co/v1/cohort-43/cards/"+"".concat(e),fetch(this.link,{method:"DELETE",headers:this.headers}).then((function(e){return t._getResponseData(e)}))}},{key:"likePut",value:function(e){var t=this;return this.link="https://mesto.nomoreparties.co/v1/cohort-43/cards/"+"".concat(e)+"/likes",fetch(this.link,{method:"PUT",headers:this.headers}).then((function(e){return t._getResponseData(e)}))}},{key:"likeDelete",value:function(e){var t=this;return this.link="https://mesto.nomoreparties.co/v1/cohort-43/cards/"+"".concat(e)+"/likes",fetch(this.link,{method:"DELETE",headers:this.headers}).then((function(e){return t._getResponseData(e)}))}},{key:"changeAvatarPicture",value:function(e){var t=this;return fetch("https://mesto.nomoreparties.co/v1/cohort-43/users/me/avatar",{method:"PATCH",headers:this.headers,body:JSON.stringify({avatar:e})}).then((function(e){return t._getResponseData(e)}))}}])&&T(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),D=".elements",x=document.querySelector(".profile__edit-button"),N=document.querySelector(".profile__add-button"),U=document.querySelector(".profile__cover"),V=document.querySelector(".form__input_type_name"),F=document.querySelector(".form__input_type_career");function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var J=new A({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-43",headers:{"Content-Type":"application/json",authorization:"b34abb99-bb9c-49f0-b4ee-93cb66614104"}});Promise.all([J.getInfromationUser(),J.loadCardImages()]).then((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?H(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];M.setUserInfo(o);var a=new R({renderer:function(e){o._id===e.owner._id?a.addItem(Q(e,!0)):a.addItem(Q(e,!1))}},D);a.renderItems(i)})).catch((function(e){console.log(e)}));var G,M=new B({selectorName:".profile__name",selectorCareer:".profile__career",selectorAvatar:".profile__avatar"}),z={};G={formSelector:".form",inputSelector:".form__input",submitButtonSelector:".form__submit",inactiveButtonClass:"form__submit_inactive",inputErrorClass:"form__input_type_error",errorClass:"form__input-error_active"},Array.from(document.querySelectorAll(G.formSelector)).forEach((function(e){var t=new r(e,G),n=e.getAttribute("name");z[n]=t,t.enableValidation()}));var $=new E(".popup_type_image");$.setEventListener();var K=new j(".popup_type_confirm",(function(e){z["confirm-form"].renderLoading("Удаляю..."),J.deleteCard(e).then((function(){K.close(),K.returnElement().remove()})).catch((function(e){console.log(e)})).finally((function(){z["confirm-form"].renderLoading("Да")}))}));function Q(e,n){var r=new t(e,".template__six-boxes",(function(){$.open(e)}),(function(e,t){K.open(),K.saveIdCard(e),K.getElementCard(t)}),(function(e){J.likePut(e._id).then((function(e){r.changeNumberLikes(e),r.toggleButtonLike()})).catch((function(e){console.log(e)}))}),(function(e){J.likeDelete(e._id).then((function(e){r.changeNumberLikes(e),r.toggleButtonLike()})).catch((function(e){console.log(e)}))}));return r.getStatusIdUser(n),r.generateElement()}K.setEventListener();var W=new h({selectorPopup:".popup_type_new-card",callbackSubmitForm:function(e){z["profile-card"].renderLoading("Создаю..."),J.addNewCard(e).then((function(e){new R((function(){}),D).addItem(Q(e)),W.close()})).catch((function(e){console.log(e)})).finally((function(){z["profile-card"].renderLoading("Создать")}))}});W.setEventListener();var X=new h({selectorPopup:".popup_type_avatar",callbackSubmitForm:function(e){z["profile-avatar"].renderLoading("Сохраняю..."),J.changeAvatarPicture(e.link).then((function(e){M.setUserInfo(e),X.close()})).catch((function(e){console.log(e)})).finally((function(){z["profile-avatar"].renderLoading("Сохранить")}))}});X.setEventListener(),N.addEventListener("click",(function(){z["profile-card"].resetValidation(),W.open()})),U.addEventListener("click",(function(){z["profile-avatar"].resetValidation(),X.open()}));var Y=new h({selectorPopup:".popup_type_edit",callbackSubmitForm:function(e){z["profile-edit"].renderLoading("Сохраняю..."),J.changeProfile(e).then((function(e){M.setUserInfo(e),Y.close()})).catch((function(e){console.log(e)})).finally((function(){z["profile-edit"].renderLoading("Сохранить")}))}});Y.setEventListener(),x.addEventListener("click",(function(){z["profile-edit"].resetValidation();var e=M.getUserInfo();V.value=e.name,F.value=e.career,Y.open()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RyxHQUNqQmtDLE1BQUssU0FBQ1IsR0FDTDZCLEVBQWNDLFlBQVk5QixHQUMxQnFFLEVBQWdCNUcsV0FFakIwRSxPQUFNLFNBQUNDLEdBQ05DLFFBQVFDLElBQUlGLE1BRWJlLFNBQVEsV0FDUFosRUFBZSxnQkFBZ0JTLGNBQWMsbUJBTW5EcUIsRUFBZ0J4QixtQkFFaEI1QixFQUFrQjFHLGlCQUFpQixTQUFTLFdBQzFDZ0ksRUFBZSxnQkFBZ0I2QixrQkFDL0IsSUFBTUcsRUFBOEIxQyxFQUFjMkMsY0FDbERwRCxFQUFjcEQsTUFBUXVHLEVBQTRCOUwsS0FDbEQ0SSxFQUFnQnJELE1BQVF1RyxFQUE0QjlFLE9BQ3BENEUsRUFBZ0JmLFciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly95YW5kZXhfcHJha3Rpa3VtLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly95YW5kZXhfcHJha3Rpa3VtLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly95YW5kZXhfcHJha3Rpa3VtLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8veWFuZGV4X3ByYWt0aWt1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8veWFuZGV4X3ByYWt0aWt1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL3lhbmRleF9wcmFrdGlrdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtLmpzIiwid2VicGFjazovL3lhbmRleF9wcmFrdGlrdW0vLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL3lhbmRleF9wcmFrdGlrdW0vLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly95YW5kZXhfcHJha3Rpa3VtLy4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL3lhbmRleF9wcmFrdGlrdW0vLi9zcmMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL3lhbmRleF9wcmFrdGlrdW0vLi9zcmMvcGFnZS9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgQ2FyZCB7XG4gIGNvbnN0cnVjdG9yKGRhdGEsIHNlbGVjdG9yLCByZW5kZXJlclBvcHVwSW1hZ2UsIHJlbmRlclBvcHVwQ29uZmlybSwgaGFuZGxlckxpa2VBY3RpdmUsIGhhbmRsZXJMaWtlTm90QWN0aXZlKSB7XG4gICAgdGhpcy5kYXRhID0gZGF0YTtcbiAgICB0aGlzLl9uYW1lID0gdGhpcy5kYXRhLm5hbWU7XG4gICAgdGhpcy5fbGluayA9IHRoaXMuZGF0YS5saW5rO1xuICAgIHRoaXMuX293bmVySWQgPSB0aGlzLmRhdGEub3duZXIuX2lkO1xuICAgIHRoaXMuX2NhcmRJZCA9IHRoaXMuZGF0YS5faWQ7XG4gICAgdGhpcy5fc2VsZWN0b3IgPSBzZWxlY3RvcjtcbiAgICB0aGlzLnJlbmRlcmVyUG9wdXBJbWFnZSA9IHJlbmRlcmVyUG9wdXBJbWFnZTtcbiAgICB0aGlzLnJlbmRlclBvcHVwQ29uZmlybSA9IHJlbmRlclBvcHVwQ29uZmlybTtcbiAgICB0aGlzLmhhbmRsZXJMaWtlQWN0aXZlID0gaGFuZGxlckxpa2VBY3RpdmU7XG4gICAgdGhpcy5oYW5kbGVyTGlrZU5vdEFjdGl2ZSA9IGhhbmRsZXJMaWtlTm90QWN0aXZlO1xuICB9XG5cbiAgZ2VuZXJhdGVFbGVtZW50KCkge1xuICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9nZXRFbGVtZW50KCk7XG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcigpO1xuXG4gICAgdGhpcy5fY2FyZEltYWdlLnNyYyA9IHRoaXMuX2xpbms7XG4gICAgdGhpcy5fY2FyZEltYWdlLmFsdCA9IHRoaXMuX25hbWU7XG4gICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fdGl0bGUnKS50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XG4gICAgdGhpcy5jaGFuZ2VOdW1iZXJMaWtlcyh0aGlzLmRhdGEpO1xuICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xuICB9XG5cbiAgY2hhbmdlTnVtYmVyTGlrZXMoYXJyYXlMaWtlcykge1xuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2NvdW50JykudGV4dENvbnRlbnQgPSBhcnJheUxpa2VzLmxpa2VzLmxlbmd0aDtcbiAgfVxuXG4gIF9nZXRFbGVtZW50KCkge1xuICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gZG9jdW1lbnRcbiAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl9zZWxlY3RvcilcbiAgICAuY29udGVudFxuICAgIC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudCcpXG4gICAgLmNsb25lTm9kZSh0cnVlKTtcblxuICAgIHRoaXMuX2NhcmRJbWFnZSA9IGNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19pbWFnZScpO1xuXG4gICAgdGhpcy5fZWxlbWVudCA9IGNhcmRFbGVtZW50O1xuICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xuICB9XG5cbiAgZ2V0U3RhdHVzSWRVc2VyKGJvb2xlYW5TdGF0dXMpIHtcbiAgICB0aGlzLl9ib29sZWFuU3RhdHVzID0gYm9vbGVhblN0YXR1cztcbiAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVyKCkge1xuICAgIHRoaXMuX2J1dHRvbiA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2J1dHRvbicpO1xuICAgIHRoaXMuX3RyYXNoQnV0dG9uID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fdHJhc2gtaWNvbicpO1xuICAgIGlmICh0aGlzLl9ib29sZWFuU3RhdHVzKSB7XG4gICAgICB0aGlzLl90cmFzaEJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdlbGVtZW50X190cmFzaC1pY29uX2FjdGl2ZScpO1xuICAgIH1cblxuICAgIHRoaXMuX2J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+e1xuICAgICAgaWYgKCF0aGlzLl9idXR0b24uY2xhc3NMaXN0LmNvbnRhaW5zKCdlbGVtZW50X19idXR0b25fYWN0aXZlJykpIHtcbiAgICAgICAgdGhpcy5oYW5kbGVyTGlrZUFjdGl2ZSh0aGlzLmRhdGEpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5oYW5kbGVyTGlrZU5vdEFjdGl2ZSh0aGlzLmRhdGEpO1xuICAgICAgfVxuICAgIH0pXG4gICAgdGhpcy5fdHJhc2hCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PntcbiAgICAgIHRoaXMucmVuZGVyUG9wdXBDb25maXJtKHRoaXMuX2NhcmRJZCwgdGhpcy5fZWxlbWVudCk7XG4gICAgfSlcblxuICAgIHRoaXMuX2NhcmRJbWFnZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMucmVuZGVyZXJQb3B1cEltYWdlKTtcbiAgfVxuXG4gIHRvZ2dsZUJ1dHRvbkxpa2UoKSB7XG4gICAgdGhpcy5fYnV0dG9uLmNsYXNzTGlzdC50b2dnbGUoJ2VsZW1lbnRfX2J1dHRvbl9hY3RpdmUnKTtcbiAgfVxuXG59XG4iLCJleHBvcnQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XG4gIGNvbnN0cnVjdG9yKGZvcm1FbGVtZW50LCBjb25maWcpIHtcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGZvcm1FbGVtZW50O1xuICAgIHRoaXMuX2Zvcm1TZWxlY3RvciA9IGNvbmZpZy5mb3JtU2VsZWN0b3I7XG4gICAgdGhpcy5faW5wdXRTZWxlY3RvciA9IGNvbmZpZy5pbnB1dFNlbGVjdG9yO1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yID0gY29uZmlnLnN1Ym1pdEJ1dHRvblNlbGVjdG9yO1xuICAgIHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MgPSBjb25maWcuaW5hY3RpdmVCdXR0b25DbGFzcztcbiAgICB0aGlzLl9pbnB1dEVycm9yQ2xhc3MgPSBjb25maWcuaW5wdXRFcnJvckNsYXNzO1xuICAgIHRoaXMuX2Vycm9yQ2xhc3MgPSBjb25maWcuZXJyb3JDbGFzcztcbiAgfVxuXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XG4gICAgdGhpcy5fZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2dCkgPT4ge1xuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSk7XG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcigpO1xuICB9O1xuXG4gIF90b2dnbGVCdXR0b25TdGF0ZSgpIHtcbiAgICBpZih0aGlzLl9oYXNJbnZhbGlkSW5wdXQoKSkge1xuICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5kaXNhYmxlZCA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBfc2V0RXZlbnRMaXN0ZW5lcigpIHtcbiAgICB0aGlzLl9pbnB1dExpc3QgPSBBcnJheS5mcm9tKHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5faW5wdXRTZWxlY3RvcikpO1xuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcblxuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XG5cbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuX2hhbmRsZUlucHV0RWxlbWVudCA9IGlucHV0RWxlbWVudDtcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgICAgICAgdGhpcy5faXNWYWxpZCgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBfaGFzSW52YWxpZElucHV0KCkge1xuICAgIHJldHVybiB0aGlzLl9pbnB1dExpc3Quc29tZSgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICByZXR1cm4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZDtcbiAgICB9KTtcbiAgfVxuXG4gIF9pc1ZhbGlkKCkge1xuICAgIGlmKCF0aGlzLl9oYW5kbGVJbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpIHtcbiAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKCk7XG4gICAgfVxuICB9XG5cbiAgX3Nob3dJbnB1dEVycm9yKCkge1xuICAgIHRoaXMuX2Vycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke3RoaXMuX2hhbmRsZUlucHV0RWxlbWVudC5pZH0tZXJyb3JgKTtcbiAgICB0aGlzLl9oYW5kbGVJbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xuICAgIHRoaXMuX2Vycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IHRoaXMuX2hhbmRsZUlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZTtcbiAgICB0aGlzLl9lcnJvckVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9lcnJvckNsYXNzKTtcbiAgfVxuXG4gIF9oaWRlSW5wdXRFcnJvcigpIHtcbiAgICB0aGlzLl9lcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAuJHt0aGlzLl9oYW5kbGVJbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XG4gICAgdGhpcy5faGFuZGxlSW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcbiAgICB0aGlzLl9lcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9lcnJvckNsYXNzKTtcbiAgICB0aGlzLl9lcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSAnJztcbiAgfVxuXG4gIHJlc2V0VmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xuXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlSW5wdXRFbGVtZW50ID0gaW5wdXRFbGVtZW50O1xuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoKTtcbiAgICB9KVxuICB9XG5cbiAgcmVuZGVyTG9hZGluZyh0ZXh0QnV0dG9uTG9hZCkge1xuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQudGV4dENvbnRlbnQgPSB0ZXh0QnV0dG9uTG9hZDtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXAge1xuICBjb25zdHJ1Y3RvcihzZWxlY3RvclBvcHVwKSB7XG4gICAgdGhpcy5fc2VsZWN0b3IgPSBzZWxlY3RvclBvcHVwO1xuICAgIHRoaXMuX3BvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9zZWxlY3Rvcik7XG4gICAgdGhpcy5faGFuZGxlRXNjQ2xvc2UgPSB0aGlzLl9oYW5kbGVFc2NDbG9zZS5iaW5kKHRoaXMpO1xuICB9XG5cbiAgb3BlbigpIHtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5hZGQoJ3BvcHVwX2FjdGl2ZScpO1xuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QucmVtb3ZlKCdwb3B1cF9hY3RpdmUnKTtcbiAgfVxuXG4gIF9oYW5kbGVFc2NDbG9zZShldnQpIHtcbiAgICBpZihldnQua2V5ID09PSAnRXNjYXBlJyl7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcigpIHtcbiAgICB0aGlzLl9wb3B1cC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCAoZXZ0KSA9PiB7XG5cbiAgICAgIGlmIChldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygncG9wdXBfYWN0aXZlJykpIHtcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgfVxuXG4gICAgICBpZiAoZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3NpbmdsZV9fY3Jvc3MnKSkge1xuICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgfVxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHtzZWxlY3RvclBvcHVwLCBjYWxsYmFja1N1Ym1pdEZvcm19KSB7XG4gICAgc3VwZXIoc2VsZWN0b3JQb3B1cCk7XG4gICAgdGhpcy5jYWxsYmFja1N1Ym1pdEZvcm0gPSBjYWxsYmFja1N1Ym1pdEZvcm07XG4gICAgdGhpcy5fZm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtJyk7XG4gICAgdGhpcy5faW5wdXRMaXN0ID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKCcuZm9ybV9faW5wdXQnKTtcblx0fVxuXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcbiAgICB0aGlzLl9mb3JtVmFsdWVzID0ge307XG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goaW5wdXQgPT4gdGhpcy5fZm9ybVZhbHVlc1tpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlKTtcblxuICAgIHJldHVybiB0aGlzLl9mb3JtVmFsdWVzO1xuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcigpIHtcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVyKCk7XG4gICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoKSA9PiB7XG4gICAgICB0aGlzLmNhbGxiYWNrU3VibWl0Rm9ybSh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKTtcbiAgICB9KTtcbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIHN1cGVyLmNsb3NlKCk7XG4gICAgdGhpcy5fZm9ybS5yZXNldCgpO1xuICB9XG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHNlbGVjdG9yUG9wdXApIHtcbiAgICBzdXBlcihzZWxlY3RvclBvcHVwKTtcbiAgICB0aGlzLmVsZW1lbnRQb3B1cFBpY3R1cmUgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX3BpY3R1cmUnKTtcbiAgICB0aGlzLmVsZW1lbnRQb3B1cFNpZ25hdHVyZSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fc2lnbmF0dXJlJyk7XG5cdH1cblxuICBvcGVuKGl0ZW0pIHtcbiAgICB0aGlzLmVsZW1lbnRQb3B1cFBpY3R1cmUuc3JjID0gaXRlbS5saW5rO1xuICAgIHRoaXMuZWxlbWVudFBvcHVwU2lnbmF0dXJlLmFsdCA9IGl0ZW0ubmFtZTtcbiAgICB0aGlzLmVsZW1lbnRQb3B1cFNpZ25hdHVyZS50ZXh0Q29udGVudCA9IGl0ZW0ubmFtZTtcbiAgICBzdXBlci5vcGVuKCk7XG4gIH1cbiAgfVxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aENvbmZpcm0gZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHNlbGVjdG9yUG9wdXAsIGNhbGxiYWNrU3VibWl0Rm9ybSkge1xuICAgIHN1cGVyKHNlbGVjdG9yUG9wdXApO1xuICAgIHRoaXMuY2FsbGJhY2tTdWJtaXRGb3JtID0gY2FsbGJhY2tTdWJtaXRGb3JtO1xuICAgIHRoaXMuX2Zvcm0gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcuZm9ybScpO1xuXHR9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcigpIHtcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVyKCk7XG4gICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoKSA9PiB7XG4gICAgICB0aGlzLmNhbGxiYWNrU3VibWl0Rm9ybSh0aGlzLl9pZENhcmQpO1xuICAgIH0pO1xuICB9XG5cbiAgc2F2ZUlkQ2FyZChpZENhcmQpIHtcbiAgICByZXR1cm4gdGhpcy5faWRDYXJkID0gaWRDYXJkO1xuICB9XG5cbiAgZ2V0RWxlbWVudENhcmQoZWxlbWVudCkge1xuICAgIHRoaXMuX2VsZW1lbnQgPSBlbGVtZW50O1xuICB9XG5cbiAgcmV0dXJuRWxlbWVudCgpIHtcbiAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcbiAgfVxufVxuIiwiZXhwb3J0IGNsYXNzIFNlY3Rpb24ge1xuICBjb25zdHJ1Y3Rvcih7cmVuZGVyZXJ9LCBjb250YWluZXJTZWxlY3Rvcikge1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG5cbiAgICB0aGlzLl9jb250YWluZXJIdG1sID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXJTZWxlY3Rvcik7XG4gIH1cblxuICByZW5kZXJJdGVtcyhkYXRhKSB7XG4gICAgZGF0YS5mb3JFYWNoKGl0ZW0gPT4gdGhpcy5fcmVuZGVyZXIoaXRlbSkpXG4gIH1cblxuICBhZGRJdGVtKGVsZW1lbnQpIHtcbiAgICB0aGlzLl9jb250YWluZXJIdG1sLnByZXBlbmQoZWxlbWVudCk7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcbiAgY29uc3RydWN0b3Ioe3NlbGVjdG9yTmFtZSwgc2VsZWN0b3JDYXJlZXIsIHNlbGVjdG9yQXZhdGFyfSkge1xuICAgIHRoaXMudXNlck5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yTmFtZSk7XG4gICAgdGhpcy51c2VyQ2FyZWVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3RvckNhcmVlcik7XG4gICAgdGhpcy51c2VyQXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3RvckF2YXRhcik7XG4gIH1cblxuICBnZXRVc2VySW5mbygpIHtcbiAgICB0aGlzLmFycmF5TmV3Q2FyZERhdGEgPSB7bmFtZTogdGhpcy51c2VyTmFtZS50ZXh0Q29udGVudCwgY2FyZWVyOiB0aGlzLnVzZXJDYXJlZXIudGV4dENvbnRlbnR9O1xuICAgIHJldHVybiB0aGlzLmFycmF5TmV3Q2FyZERhdGE7XG4gIH1cblxuICBzZXRVc2VySW5mbyh1c2VySW5mbykge1xuICAgIHRoaXMudXNlck5hbWUudGV4dENvbnRlbnQgPSB1c2VySW5mby5uYW1lO1xuICAgIHRoaXMudXNlckNhcmVlci50ZXh0Q29udGVudCA9IHVzZXJJbmZvLmFib3V0O1xuICAgIHRoaXMudXNlckF2YXRhci5zcmMgPSB1c2VySW5mby5hdmF0YXI7XG4gIH1cblxufVxuIiwiZXhwb3J0IGNsYXNzIEFwaSB7XG4gIGNvbnN0cnVjdG9yKHtiYXNlVXJsLCBoZWFkZXJzfSkge1xuICAgIHRoaXMuYmFzZVVybCA9IGJhc2VVcmw7XG4gICAgdGhpcy5oZWFkZXJzID0gaGVhZGVycztcbiAgfVxuXG4gIF9nZXRSZXNwb25zZURhdGEocmVzKSB7XG4gICAgaWYgKHJlcy5vaykge1xuICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgfVxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChg0JLQvtC30L3QuNC60LvQsCDQvtGI0LjQsdC60LAg0L/RgNC4INC+0YLQv9GA0LDQstC60LUg0LfQsNC/0YDQvtGB0LAg0L3QsCDRgdC10YDQstC10YA6ICR7cmVzLnN0YXR1c31gKTtcbiAgfVxuXG4gICAgZ2V0SW5mcm9tYXRpb25Vc2VyKCkge1xuICAgICAgcmV0dXJuIGZldGNoKCdodHRwczovL21lc3RvLm5vbW9yZXBhcnRpZXMuY28vdjEvY29ob3J0LTQzL3VzZXJzL21lJywge1xuICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVyc1xuICAgICAgfSkudGhlbigocmVzKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuX2dldFJlc3BvbnNlRGF0YShyZXMpO1xuICAgICAgICB9KVxuICAgIH1cblxuICAgIGxvYWRDYXJkSW1hZ2VzKCkge1xuICAgICAgcmV0dXJuIGZldGNoKCdodHRwczovL21lc3RvLm5vbW9yZXBhcnRpZXMuY28vdjEvY29ob3J0LTQzL2NhcmRzJywge1xuICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnNcbiAgICAgIH0pLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fZ2V0UmVzcG9uc2VEYXRhKHJlcyk7XG4gICAgICB9KVxuICAgIH1cblxuICAgIGNoYW5nZVByb2ZpbGUoYXJyYXkpIHtcbiAgICAgIHJldHVybiBmZXRjaCgnaHR0cHM6Ly9tZXN0by5ub21vcmVwYXJ0aWVzLmNvL3YxL2NvaG9ydC00My91c2Vycy9tZScsIHtcbiAgICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxuICAgICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICBuYW1lIDogYCR7YXJyYXkuZmlyc3RuYW1lfWAsXG4gICAgICAgICAgYWJvdXQgOiBgJHthcnJheS5jYXJlZXJ9YFxuICAgICAgICB9KVxuICAgICAgfSkudGhlbigocmVzKSA9PiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9nZXRSZXNwb25zZURhdGEocmVzKTtcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgYWRkTmV3Q2FyZChhcnJheSkge1xuICAgICAgcmV0dXJuIGZldGNoKCdodHRwczovL21lc3RvLm5vbW9yZXBhcnRpZXMuY28vdjEvY29ob3J0LTQzL2NhcmRzJywge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgbmFtZSA6IGFycmF5Lm5hbWUsXG4gICAgICAgICAgbGluayA6IGFycmF5LmxpbmtcbiAgICAgICAgfSlcbiAgICAgIH0pLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fZ2V0UmVzcG9uc2VEYXRhKHJlcyk7XG4gICAgICB9KVxuICAgIH1cblxuICAgIGRlbGV0ZUNhcmQoaWRDYXJkKSB7XG4gICAgICB0aGlzLmxpbmsgPSAoJ2h0dHBzOi8vbWVzdG8ubm9tb3JlcGFydGllcy5jby92MS9jb2hvcnQtNDMvY2FyZHMvJyArIGAke2lkQ2FyZH1gKTtcbiAgICAgIHJldHVybiBmZXRjaCh0aGlzLmxpbmssIHtcbiAgICAgICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxuICAgICAgfSkudGhlbigocmVzKSA9PiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9nZXRSZXNwb25zZURhdGEocmVzKTtcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgbGlrZVB1dChpZENhcmQpIHtcbiAgICAgIHRoaXMubGluayA9ICgnaHR0cHM6Ly9tZXN0by5ub21vcmVwYXJ0aWVzLmNvL3YxL2NvaG9ydC00My9jYXJkcy8nICsgYCR7aWRDYXJkfWAgKyAnL2xpa2VzJyk7XG4gICAgICByZXR1cm4gZmV0Y2godGhpcy5saW5rLCB7XG4gICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICAgIH0pLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICAgIHJldHVybiB0aGlzLl9nZXRSZXNwb25zZURhdGEocmVzKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICBsaWtlRGVsZXRlKGlkQ2FyZCkge1xuICAgICAgdGhpcy5saW5rID0gKCdodHRwczovL21lc3RvLm5vbW9yZXBhcnRpZXMuY28vdjEvY29ob3J0LTQzL2NhcmRzLycgKyBgJHtpZENhcmR9YCArICcvbGlrZXMnKTtcbiAgICAgIHJldHVybiBmZXRjaCh0aGlzLmxpbmssIHtcbiAgICAgICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxuICAgICAgfSkudGhlbigocmVzKSA9PiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9nZXRSZXNwb25zZURhdGEocmVzKTtcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgY2hhbmdlQXZhdGFyUGljdHVyZShsaW5rUGljdHVyZSkge1xuICAgICAgcmV0dXJuIGZldGNoKCdodHRwczovL21lc3RvLm5vbW9yZXBhcnRpZXMuY28vdjEvY29ob3J0LTQzL3VzZXJzL21lL2F2YXRhcicsIHtcbiAgICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxuICAgICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICBhdmF0YXIgOiBsaW5rUGljdHVyZVxuICAgICAgICB9KVxuICAgICAgfSkudGhlbigocmVzKSA9PiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9nZXRSZXNwb25zZURhdGEocmVzKTtcbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiIsImNvbnN0IGRvbUNhcmRDb250YWluZXIgPSAnLmVsZW1lbnRzJztcbmNvbnN0IGNoYW5nZVByb2ZpbGVJY29uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciAoJy5wcm9maWxlX19lZGl0LWJ1dHRvbicpO1xuY29uc3QgYWRkTmV3Q2FyZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IgKCcucHJvZmlsZV9fYWRkLWJ1dHRvbicpO1xuY29uc3QgY2hhbmdlQXZhdGFyUGljdHVyZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IgKCcucHJvZmlsZV9fY292ZXInKTtcblxuY29uc3QgaW5wdXROYW1lRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mb3JtX19pbnB1dF90eXBlX25hbWUnKTtcbmNvbnN0IGlucHV0Q2FyZWVyRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mb3JtX19pbnB1dF90eXBlX2NhcmVlcicpO1xuXG5leHBvcnQge2RvbUNhcmRDb250YWluZXIsIGNoYW5nZVByb2ZpbGVJY29uLCBhZGROZXdDYXJkQnV0dG9uLCBpbnB1dE5hbWVGb3JtLCBpbnB1dENhcmVlckZvcm0sIGNoYW5nZUF2YXRhclBpY3R1cmV9O1xuIiwiaW1wb3J0IHtDYXJkfSBmcm9tICcuLi9jb21wb25lbnRzL0NhcmQuanMnO1xuaW1wb3J0IHtGb3JtVmFsaWRhdG9yfSBmcm9tICcuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMnO1xuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzJztcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzJztcbmltcG9ydCBQb3B1cFdpdGhDb25maXJtIGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoQ29uZmlybS5qcyc7XG5pbXBvcnQgeyBTZWN0aW9uIH0gZnJvbSAnLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzJztcbmltcG9ydCBVc2VySW5mbyBmcm9tICcuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzJztcbmltcG9ydCB7IEFwaSB9IGZyb20gJy4uL2NvbXBvbmVudHMvQXBpLmpzJztcblxuaW1wb3J0IHtcbiAgZG9tQ2FyZENvbnRhaW5lcixcbiAgY2hhbmdlUHJvZmlsZUljb24sXG4gIGFkZE5ld0NhcmRCdXR0b24sXG4gIGlucHV0TmFtZUZvcm0sXG4gIGlucHV0Q2FyZWVyRm9ybSxcbiAgY2hhbmdlQXZhdGFyUGljdHVyZVxufSBmcm9tICcuLi91dGlscy9jb25zdGFudHMuanMnO1xuXG5pbXBvcnQgJy4vaW5kZXguY3NzJztcblxuY29uc3QgYXBpID0gbmV3IEFwaSh7XG4gIGJhc2VVcmw6ICdodHRwczovL21lc3RvLm5vbW9yZXBhcnRpZXMuY28vdjEvY29ob3J0LTQzJyxcbiAgaGVhZGVyczoge1xuICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgYXV0aG9yaXphdGlvbjogJ2IzNGFiYjk5LWJiOWMtNDlmMC1iNGVlLTkzY2I2NjYxNDEwNCdcbiAgfVxufSk7XG5cblByb21pc2UuYWxsKFtcbiAgYXBpLmdldEluZnJvbWF0aW9uVXNlcigpLFxuICBhcGkubG9hZENhcmRJbWFnZXMoKVxuXSlcbi50aGVuKChbaW5mbywgaW5pdGlhbENhcmRzXSkgPT4ge1xuICBjbGFzc1VzZXJJbmZvLnNldFVzZXJJbmZvKGluZm8pO1xuICBjb25zdCBjYXJkc0xpc3QgPSBuZXcgU2VjdGlvbih7XG4gICAgcmVuZGVyZXI6IChpdGVtKSA9PiB7XG4gICAgICBpZiAoaW5mby5faWQgPT09IGl0ZW0ub3duZXIuX2lkKSB7XG4gICAgICAgIGNhcmRzTGlzdC5hZGRJdGVtKGNyZWF0ZUNhcmQoaXRlbSwgdHJ1ZSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2FyZHNMaXN0LmFkZEl0ZW0oY3JlYXRlQ2FyZChpdGVtLCBmYWxzZSkpXG4gICAgICB9XG4gICAgfVxuICB9LFxuICBkb21DYXJkQ29udGFpbmVyXG4gICk7XG4gIGNhcmRzTGlzdC5yZW5kZXJJdGVtcyhpbml0aWFsQ2FyZHMpO1xufSlcbi5jYXRjaCgoZXJyKSA9PiB7XG4gIGNvbnNvbGUubG9nKGVycik7XG59KTtcblxuY29uc3QgY2xhc3NVc2VySW5mbyA9IG5ldyBVc2VySW5mbyh7XG4gIHNlbGVjdG9yTmFtZTogJy5wcm9maWxlX19uYW1lJyxcbiAgc2VsZWN0b3JDYXJlZXI6ICcucHJvZmlsZV9fY2FyZWVyJyxcbiAgc2VsZWN0b3JBdmF0YXI6ICcucHJvZmlsZV9fYXZhdGFyJ1xufSlcblxuY29uc3QgY29uZmlnID0ge1xuICBmb3JtU2VsZWN0b3I6ICcuZm9ybScsXG4gIGlucHV0U2VsZWN0b3I6ICcuZm9ybV9faW5wdXQnLFxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogJy5mb3JtX19zdWJtaXQnLFxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiAnZm9ybV9fc3VibWl0X2luYWN0aXZlJyxcbiAgaW5wdXRFcnJvckNsYXNzOiAnZm9ybV9faW5wdXRfdHlwZV9lcnJvcicsXG4gIGVycm9yQ2xhc3M6ICdmb3JtX19pbnB1dC1lcnJvcl9hY3RpdmUnXG59O1xuXG5jb25zdCBmb3JtVmFsaWRhdG9ycyA9IHt9O1xuXG5jb25zdCBlbmFibGVWYWxpZGF0aW9uID0gKGNvbmZpZykgPT4ge1xuICBjb25zdCBmb3JtTGlzdCA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChjb25maWcuZm9ybVNlbGVjdG9yKSk7XG4gIGZvcm1MaXN0LmZvckVhY2goKGZvcm1FbGVtZW50KSA9PiB7XG4gICAgY29uc3QgdmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoZm9ybUVsZW1lbnQsIGNvbmZpZyk7XG4gICAgY29uc3QgZm9ybU5hbWUgPSBmb3JtRWxlbWVudC5nZXRBdHRyaWJ1dGUoJ25hbWUnKTtcblxuICAgIGZvcm1WYWxpZGF0b3JzW2Zvcm1OYW1lXSA9IHZhbGlkYXRvcjtcbiAgICB2YWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xuICB9KTtcbn07XG5cbmVuYWJsZVZhbGlkYXRpb24oY29uZmlnKTtcblxuXG5jb25zdCBwb3B1cEltYWdlID0gbmV3IFBvcHVwV2l0aEltYWdlKCcucG9wdXBfdHlwZV9pbWFnZScpO1xucG9wdXBJbWFnZS5zZXRFdmVudExpc3RlbmVyKCk7XG5cbmNvbnN0IHBvcHVwQ29uZmlybSA9IG5ldyBQb3B1cFdpdGhDb25maXJtKCcucG9wdXBfdHlwZV9jb25maXJtJywgKGlkQ2FyZENsYXNzKSA9PiB7XG4gIGZvcm1WYWxpZGF0b3JzWydjb25maXJtLWZvcm0nXS5yZW5kZXJMb2FkaW5nKCfQo9C00LDQu9GP0Y4uLi4nKTtcbiAgYXBpLmRlbGV0ZUNhcmQoaWRDYXJkQ2xhc3MpXG4gIC50aGVuKCgpID0+IHtcbiAgICBwb3B1cENvbmZpcm0uY2xvc2UoKTtcbiAgICBjb25zdCBlbGVtZW50ID0gcG9wdXBDb25maXJtLnJldHVybkVsZW1lbnQoKTtcbiAgICBlbGVtZW50LnJlbW92ZSgpO1xuICB9KVxuICAuY2F0Y2goKGVycikgPT4ge2NvbnNvbGUubG9nKGVycil9KVxuICAuZmluYWxseSgoKSA9PiB7Zm9ybVZhbGlkYXRvcnNbJ2NvbmZpcm0tZm9ybSddLnJlbmRlckxvYWRpbmcoJ9CU0LAnKTt9KTtcbn0pO1xuXG5wb3B1cENvbmZpcm0uc2V0RXZlbnRMaXN0ZW5lcigpO1xuXG5mdW5jdGlvbiBjcmVhdGVDYXJkKGl0ZW0sIGNoZWNrVXNlcklkKSB7XG4gIGNvbnN0IG5ld0NhcmRDb250YWluZXIgPSBuZXcgQ2FyZChpdGVtLCAnLnRlbXBsYXRlX19zaXgtYm94ZXMnLCAoKSA9PiB7XG4gICAgcG9wdXBJbWFnZS5vcGVuKGl0ZW0pO1xuICB9LCAoaWRDYXJkLCBlbGVtZW50Q2FyZCkgPT4ge1xuICAgIHBvcHVwQ29uZmlybS5vcGVuKCk7XG4gICAgcG9wdXBDb25maXJtLnNhdmVJZENhcmQoaWRDYXJkKTtcbiAgICBwb3B1cENvbmZpcm0uZ2V0RWxlbWVudENhcmQoZWxlbWVudENhcmQpO1xuICB9LFxuICAoZGF0YSkgPT4ge1xuICAgIGFwaS5saWtlUHV0KGRhdGEuX2lkKVxuICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgIG5ld0NhcmRDb250YWluZXIuY2hhbmdlTnVtYmVyTGlrZXMocmVzKTtcbiAgICAgIG5ld0NhcmRDb250YWluZXIudG9nZ2xlQnV0dG9uTGlrZSgpO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgfSlcbiAgfSxcbiAgKGRhdGEpID0+IHtcbiAgICBhcGkubGlrZURlbGV0ZShkYXRhLl9pZClcbiAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICBuZXdDYXJkQ29udGFpbmVyLmNoYW5nZU51bWJlckxpa2VzKHJlcyk7XG4gICAgICBuZXdDYXJkQ29udGFpbmVyLnRvZ2dsZUJ1dHRvbkxpa2UoKTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgIH0pXG4gIH1cbiAgKTtcbiAgbmV3Q2FyZENvbnRhaW5lci5nZXRTdGF0dXNJZFVzZXIoY2hlY2tVc2VySWQpO1xuICBjb25zdCBuZXdDYXJkRWxlbWVudCA9IG5ld0NhcmRDb250YWluZXIuZ2VuZXJhdGVFbGVtZW50KCk7XG4gIHJldHVybiBuZXdDYXJkRWxlbWVudDtcbn1cblxuY29uc3QgZm9ybU5ld0NhcmQgPSBuZXcgUG9wdXBXaXRoRm9ybSh7XG4gIHNlbGVjdG9yUG9wdXA6ICcucG9wdXBfdHlwZV9uZXctY2FyZCcsXG4gIGNhbGxiYWNrU3VibWl0Rm9ybTogKGZvcm1kYXRhKSA9PiB7XG4gICAgZm9ybVZhbGlkYXRvcnNbJ3Byb2ZpbGUtY2FyZCddLnJlbmRlckxvYWRpbmcoJ9Ch0L7Qt9C00LDRji4uLicpO1xuICAgIGFwaS5hZGROZXdDYXJkKGZvcm1kYXRhKVxuICAgIC50aGVuKChuZXdDYXJkKSA9PiB7XG4gICAgICBjb25zdCBjYXJkc0xpc3REb21Db250YWluZXIgPSBuZXcgU2VjdGlvbigoKT0+e30sZG9tQ2FyZENvbnRhaW5lcik7XG4gICAgICBjYXJkc0xpc3REb21Db250YWluZXIuYWRkSXRlbShjcmVhdGVDYXJkKG5ld0NhcmQpKTtcbiAgICAgIGZvcm1OZXdDYXJkLmNsb3NlKCk7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycikgPT4ge2NvbnNvbGUubG9nKGVycik7fSlcbiAgICAuZmluYWxseSgoKSA9PiB7Zm9ybVZhbGlkYXRvcnNbJ3Byb2ZpbGUtY2FyZCddLnJlbmRlckxvYWRpbmcoJ9Ch0L7Qt9C00LDRgtGMJyk7fSlcbiAgfVxuXG59KTtcblxuZm9ybU5ld0NhcmQuc2V0RXZlbnRMaXN0ZW5lcigpO1xuXG5jb25zdCBmb3JtTmV3QXZhdGFyID0gbmV3IFBvcHVwV2l0aEZvcm0oe1xuICBzZWxlY3RvclBvcHVwOiAnLnBvcHVwX3R5cGVfYXZhdGFyJyxcbiAgY2FsbGJhY2tTdWJtaXRGb3JtOiAoZm9ybWRhdGEpID0+IHtcbiAgICBmb3JtVmFsaWRhdG9yc1sncHJvZmlsZS1hdmF0YXInXS5yZW5kZXJMb2FkaW5nKCfQodC+0YXRgNCw0L3Rj9GOLi4uJyk7XG4gICAgYXBpLmNoYW5nZUF2YXRhclBpY3R1cmUoZm9ybWRhdGEubGluaylcbiAgICAudGhlbigodXNlckluZm8pID0+IHtcbiAgICAgIGNsYXNzVXNlckluZm8uc2V0VXNlckluZm8odXNlckluZm8pO1xuICAgICAgZm9ybU5ld0F2YXRhci5jbG9zZSgpO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IHtjb25zb2xlLmxvZyhlcnIpfSlcbiAgICAuZmluYWxseSgoKSA9PiB7Zm9ybVZhbGlkYXRvcnNbJ3Byb2ZpbGUtYXZhdGFyJ10ucmVuZGVyTG9hZGluZygn0KHQvtGF0YDQsNC90LjRgtGMJyk7fSk7XG4gIH1cbiAgfVxuKVxuXG5mb3JtTmV3QXZhdGFyLnNldEV2ZW50TGlzdGVuZXIoKTtcblxuYWRkTmV3Q2FyZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgZm9ybVZhbGlkYXRvcnNbJ3Byb2ZpbGUtY2FyZCddLnJlc2V0VmFsaWRhdGlvbigpO1xuICBmb3JtTmV3Q2FyZC5vcGVuKCk7XG59KVxuXG5jaGFuZ2VBdmF0YXJQaWN0dXJlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBmb3JtVmFsaWRhdG9yc1sncHJvZmlsZS1hdmF0YXInXS5yZXNldFZhbGlkYXRpb24oKTtcbiAgZm9ybU5ld0F2YXRhci5vcGVuKCk7XG59KVxuXG5jb25zdCBmb3JtUHJvZmlsZVVzZXIgPSBuZXcgUG9wdXBXaXRoRm9ybSh7XG4gIHNlbGVjdG9yUG9wdXA6ICcucG9wdXBfdHlwZV9lZGl0JyxcbiAgY2FsbGJhY2tTdWJtaXRGb3JtOiAoaXRlbSkgPT4ge1xuICAgIGZvcm1WYWxpZGF0b3JzWydwcm9maWxlLWVkaXQnXS5yZW5kZXJMb2FkaW5nKCfQodC+0YXRgNCw0L3Rj9GOLi4uJyk7XG4gICAgYXBpLmNoYW5nZVByb2ZpbGUoaXRlbSlcbiAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICBjbGFzc1VzZXJJbmZvLnNldFVzZXJJbmZvKHJlcyk7XG4gICAgICBmb3JtUHJvZmlsZVVzZXIuY2xvc2UoKTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgIH0pXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgZm9ybVZhbGlkYXRvcnNbJ3Byb2ZpbGUtZWRpdCddLnJlbmRlckxvYWRpbmcoJ9Ch0L7RhdGA0LDQvdC40YLRjCcpO1xuICAgIH0pO1xuXG4gIH1cbn0pO1xuXG5mb3JtUHJvZmlsZVVzZXIuc2V0RXZlbnRMaXN0ZW5lcigpO1xuXG5jaGFuZ2VQcm9maWxlSWNvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgZm9ybVZhbGlkYXRvcnNbJ3Byb2ZpbGUtZWRpdCddLnJlc2V0VmFsaWRhdGlvbigpO1xuICBjb25zdCBkb21Vc2VySW5mb3JtYXRpb25Db250YWluZXIgPSBjbGFzc1VzZXJJbmZvLmdldFVzZXJJbmZvKCk7XG4gIGlucHV0TmFtZUZvcm0udmFsdWUgPSBkb21Vc2VySW5mb3JtYXRpb25Db250YWluZXIubmFtZTtcbiAgaW5wdXRDYXJlZXJGb3JtLnZhbHVlID0gZG9tVXNlckluZm9ybWF0aW9uQ29udGFpbmVyLmNhcmVlcjtcbiAgZm9ybVByb2ZpbGVVc2VyLm9wZW4oKTtcbn0pXG4iXSwibmFtZXMiOlsiQ2FyZCIsImRhdGEiLCJzZWxlY3RvciIsInJlbmRlcmVyUG9wdXBJbWFnZSIsInJlbmRlclBvcHVwQ29uZmlybSIsImhhbmRsZXJMaWtlQWN0aXZlIiwiaGFuZGxlckxpa2VOb3RBY3RpdmUiLCJ0aGlzIiwiX25hbWUiLCJuYW1lIiwiX2xpbmsiLCJsaW5rIiwiX293bmVySWQiLCJvd25lciIsIl9pZCIsIl9jYXJkSWQiLCJfc2VsZWN0b3IiLCJfZWxlbWVudCIsIl9nZXRFbGVtZW50IiwiX3NldEV2ZW50TGlzdGVuZXIiLCJfY2FyZEltYWdlIiwic3JjIiwiYWx0IiwicXVlcnlTZWxlY3RvciIsInRleHRDb250ZW50IiwiY2hhbmdlTnVtYmVyTGlrZXMiLCJhcnJheUxpa2VzIiwibGlrZXMiLCJsZW5ndGgiLCJjYXJkRWxlbWVudCIsImRvY3VtZW50IiwiY29udGVudCIsImNsb25lTm9kZSIsImJvb2xlYW5TdGF0dXMiLCJfYm9vbGVhblN0YXR1cyIsIl9idXR0b24iLCJfdHJhc2hCdXR0b24iLCJjbGFzc0xpc3QiLCJhZGQiLCJhZGRFdmVudExpc3RlbmVyIiwiY29udGFpbnMiLCJ0b2dnbGUiLCJGb3JtVmFsaWRhdG9yIiwiZm9ybUVsZW1lbnQiLCJjb25maWciLCJfZm9ybUVsZW1lbnQiLCJfZm9ybVNlbGVjdG9yIiwiZm9ybVNlbGVjdG9yIiwiX2lucHV0U2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwiX3N1Ym1pdEJ1dHRvblNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJfaW5hY3RpdmVCdXR0b25DbGFzcyIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJfaW5wdXRFcnJvckNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiX2Vycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwiZXZ0IiwicHJldmVudERlZmF1bHQiLCJfaGFzSW52YWxpZElucHV0IiwiX2J1dHRvbkVsZW1lbnQiLCJkaXNhYmxlZCIsInJlbW92ZSIsIl9pbnB1dExpc3QiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwiZm9yRWFjaCIsImlucHV0RWxlbWVudCIsIl9oYW5kbGVJbnB1dEVsZW1lbnQiLCJfaXNWYWxpZCIsInNvbWUiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2hpZGVJbnB1dEVycm9yIiwiX3Nob3dJbnB1dEVycm9yIiwiX2Vycm9yRWxlbWVudCIsImlkIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJ0ZXh0QnV0dG9uTG9hZCIsIlBvcHVwIiwic2VsZWN0b3JQb3B1cCIsIl9wb3B1cCIsIl9oYW5kbGVFc2NDbG9zZSIsImJpbmQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwia2V5IiwiY2xvc2UiLCJ0YXJnZXQiLCJQb3B1cFdpdGhGb3JtIiwiY2FsbGJhY2tTdWJtaXRGb3JtIiwiX2Zvcm0iLCJfZm9ybVZhbHVlcyIsImlucHV0IiwidmFsdWUiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJyZXNldCIsIlBvcHVwV2l0aEltYWdlIiwiZWxlbWVudFBvcHVwUGljdHVyZSIsImVsZW1lbnRQb3B1cFNpZ25hdHVyZSIsIml0ZW0iLCJQb3B1cFdpdGhDb25maXJtIiwiX2lkQ2FyZCIsImlkQ2FyZCIsImVsZW1lbnQiLCJTZWN0aW9uIiwiY29udGFpbmVyU2VsZWN0b3IiLCJyZW5kZXJlciIsIl9yZW5kZXJlciIsIl9jb250YWluZXJIdG1sIiwicHJlcGVuZCIsIlVzZXJJbmZvIiwic2VsZWN0b3JOYW1lIiwic2VsZWN0b3JDYXJlZXIiLCJzZWxlY3RvckF2YXRhciIsInVzZXJOYW1lIiwidXNlckNhcmVlciIsInVzZXJBdmF0YXIiLCJhcnJheU5ld0NhcmREYXRhIiwiY2FyZWVyIiwidXNlckluZm8iLCJhYm91dCIsImF2YXRhciIsIkFwaSIsImJhc2VVcmwiLCJoZWFkZXJzIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsImZldGNoIiwibWV0aG9kIiwidGhlbiIsIl9nZXRSZXNwb25zZURhdGEiLCJhcnJheSIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiZmlyc3RuYW1lIiwibGlua1BpY3R1cmUiLCJkb21DYXJkQ29udGFpbmVyIiwiY2hhbmdlUHJvZmlsZUljb24iLCJhZGROZXdDYXJkQnV0dG9uIiwiY2hhbmdlQXZhdGFyUGljdHVyZSIsImlucHV0TmFtZUZvcm0iLCJpbnB1dENhcmVlckZvcm0iLCJhcGkiLCJhdXRob3JpemF0aW9uIiwiYWxsIiwiZ2V0SW5mcm9tYXRpb25Vc2VyIiwibG9hZENhcmRJbWFnZXMiLCJpbmZvIiwiaW5pdGlhbENhcmRzIiwiY2xhc3NVc2VySW5mbyIsInNldFVzZXJJbmZvIiwiY2FyZHNMaXN0IiwiYWRkSXRlbSIsImNyZWF0ZUNhcmQiLCJyZW5kZXJJdGVtcyIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImxvZyIsImZvcm1WYWxpZGF0b3JzIiwidmFsaWRhdG9yIiwiZm9ybU5hbWUiLCJnZXRBdHRyaWJ1dGUiLCJlbmFibGVWYWxpZGF0aW9uIiwicG9wdXBJbWFnZSIsInNldEV2ZW50TGlzdGVuZXIiLCJwb3B1cENvbmZpcm0iLCJpZENhcmRDbGFzcyIsInJlbmRlckxvYWRpbmciLCJkZWxldGVDYXJkIiwicmV0dXJuRWxlbWVudCIsImZpbmFsbHkiLCJjaGVja1VzZXJJZCIsIm5ld0NhcmRDb250YWluZXIiLCJvcGVuIiwiZWxlbWVudENhcmQiLCJzYXZlSWRDYXJkIiwiZ2V0RWxlbWVudENhcmQiLCJsaWtlUHV0IiwidG9nZ2xlQnV0dG9uTGlrZSIsImxpa2VEZWxldGUiLCJnZXRTdGF0dXNJZFVzZXIiLCJnZW5lcmF0ZUVsZW1lbnQiLCJmb3JtTmV3Q2FyZCIsImZvcm1kYXRhIiwiYWRkTmV3Q2FyZCIsIm5ld0NhcmQiLCJmb3JtTmV3QXZhdGFyIiwicmVzZXRWYWxpZGF0aW9uIiwiZm9ybVByb2ZpbGVVc2VyIiwiY2hhbmdlUHJvZmlsZSIsImRvbVVzZXJJbmZvcm1hdGlvbkNvbnRhaW5lciIsImdldFVzZXJJbmZvIl0sInNvdXJjZVJvb3QiOiIifQ==